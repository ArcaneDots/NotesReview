!function(e){function t(t){for(var o,i,c=t[0],s=t[1],l=t[2],d=0,m=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(u&&u(t);m.length;)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={8:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=a[e]=[t,o]}));t.push(n[2]=o);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(e){return i.p+"js/"+({0:"locales/de",1:"locales/en",2:"locales/es",3:"locales/it",4:"ui/expert",5:"ui/map",6:"ui/ui",7:"@github/time-elements",9:"relative-time-format/de",10:"relative-time-format/en",11:"relative-time-format/es",12:"relative-time-format/it",14:"vendors~relative-time-format"}[e]||e)+".min.js"}(e);var s=new Error;r=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,n[1](s)}a[e]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="dist/",i.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;r.push([106,13]),n()}({0:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return f}));var o=n(3),a=n.n(o),r=n(9),i=n.n(r),c=n(15),s=n.n(c),l=navigator.language.split("-")[0]||navigator.userLanguage.split("-")[0],u={main:null,fallback:null};function d(e){return e=(e=e.replace(/^[A-Z]/,(function(e){return e.toLowerCase()}))).replace(/[A-Z]/,(function(e){return"-".concat(e.toLowerCase())}))}function m(e,t,n){if(n){var o="!HTML!"===n.substring(0,6);o&&(n=n.replace(/^!HTML!(\s+)?/,"")),t?e.setAttribute(t,n):""!==n&&(o?e.innerHTML=n:e.textContent=n)}}function p(e,t){var n=null===u.main?null:h(e,u.main);return n&&"string"==typeof n||(n=h(e,u.fallback)),n&&"string"==typeof n?void 0!==t&&"string"==typeof n?n.replace("%s",t):"string"==typeof n?n.replace("{{version}}","1.3.0"):n:console.error(new Error("String with the tag ".concat(e,' could not be found in "').concat(l,'.json" and "').concat("en",'.json"')))}function h(e,t){for(var n=e.split("."),o=t,a=0;a<n.length;a++)void 0!==o[n[a]]&&(o=o[n[a]]);return o}function g(e){e.querySelectorAll("[".concat("data-i18n","]")).forEach((function(e){!function(e,t){""!==t&&m(e,null,p(t));for(var n=0,o=Object.entries(e.dataset);n<o.length;n++){var a=s()(o[n],2),r=a[0],i=a[1];if("i18n"===r.substring(0,"i18n".length)&&"i18n"!==r)m(e,d(r.slice("i18n".length)),p(i))}}(e,e.dataset.i18n)}))}function f(){return y.apply(this,arguments)}function y(){return(y=i()(a.a.mark((function e(){var t,o,r,i,c,s,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(90)("./".concat(l));case 3:t=e.sent,o=t.default,u.main=o,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(new Error("".concat(l,".json does not exist, ").concat("en",".json is used instead")));case 11:return e.next=13,n(90)("./".concat("en"));case 13:if(r=e.sent,i=r.default,u.fallback=i,g(document.body),document.querySelector("html").setAttribute("lang",l),"Intl"in window){e.next=49;break}if(window.Intl={},"RelativeTimeFormat"in window.Intl){e.next=49;break}e.t1=l,e.next="de"===e.t1?24:"en"===e.t1?28:"es"===e.t1?32:"it"===e.t1?36:40;break;case 24:return e.next=26,n.e(9).then(n.t.bind(null,173,3));case 26:return c=e.sent,e.abrupt("break",43);case 28:return e.next=30,n.e(10).then(n.t.bind(null,99,3));case 30:return c=e.sent,e.abrupt("break",43);case 32:return e.next=34,n.e(11).then(n.t.bind(null,174,3));case 34:return c=e.sent,e.abrupt("break",43);case 36:return e.next=38,n.e(12).then(n.t.bind(null,175,3));case 38:return c=e.sent,e.abrupt("break",43);case 40:return e.next=42,n.e(10).then(n.t.bind(null,99,3));case 42:c=e.sent;case 43:return e.next=45,n.e(14).then(n.bind(null,176));case 45:s=e.sent,(d=s.default).addLocale(c.default),window.Intl.RelativeTimeFormat=d;case 49:return e.abrupt("return",Promise.resolve());case 50:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},1:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r}));var o="map",a="expert";function r(){return document.body.dataset.mode}},10:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return p}));var o=n(15),a=n.n(o),r=n(0),i=n(23),c=2*Math.PI*6371e3/360;function s(e){var t=Math.abs((new Date).getTime()-e.getTime()),n=Math.round(t/36e5),o=Math.round(t/864e5),a=Math.round(t/2592e6),r=Math.round(t/315576e5);return 24>=n?"green-dark":31>=o?"green":6>a?"yellow":12>a?"amber":1>=r?"orange":"red"}function l(e,t){var n=document.getElementById("query").value,o=document.getElementById("user").value,a=document.getElementById("from").value,c=document.getElementById("to").value,s=!0;return t===i.a.DEFAULT&&(a=""===a?new Date(0):new Date(a),c=""===c?new Date:new Date(c),s=e.comments.map((function(e){return e.text})).join(" ").toLocaleUpperCase().includes(n.toLocaleUpperCase())&&e.created>a&&e.created<c&&(!!["","anonymous",r.c("note.anonymous")].includes(o)||0===o.localeCompare(e.user.name))),s&&(!!document.getElementById("show-closed").checked||"open"===e.status)&&(!document.getElementById("hide-anonymous").checked||!e.anonymous)&&(!["anonymous",r.c("note.anonymous")].includes(o)||e.anonymous)}function u(e){var t=e.substring(0,2);if(/^(.).*(?:\s|_)(.).*$/.test(e)){var n=/^(.).*(?:\s|_)(.).*$/.exec(e),o=a()(n,3),r=o[1],i=o[2];t="".concat(r).concat(i)}else if(/^(.).*[a-z]([A-Z]).*$/.test(e)){var c=/^(.).*[a-z]([A-Z]).*$/.exec(e),s=a()(c,3),l=s[1],u=s[2];t="".concat(l).concat(u)}return t.toUpperCase()}function d(e,t){t||(t=100);var n=a()(e,2),o=n[0],r=n[1];return{left:r-t/(c*Math.cos(o*Math.PI/180)),bottom:o-t/c,right:r+t/(c*Math.cos(o*Math.PI/180)),top:o+t/c}}function m(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function p(e,t){for(var n=[],o=0,a=e.length;o<a;o+=t)n.push(e.slice(o,o+t));return n}},106:function(e,t,n){n(107),e.exports=n(172)},107:function(e,t,n){},11:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return g}));var o=n(32),a=n.n(o),r=n(0),i=n(1),c=n(22),s=n(10),l=n(92);function u(e,t,n){var o="bottom";return n&&(o=i.c()===i.b?"right":"left"),'\n  <span class="label label-'.concat(e," my-1 c-default tooltip tooltip-").concat(o,'" data-tooltip="').concat(t.toLocaleString(),'">\n    <time-ago datetime="').concat(t,'" title="">\n      ').concat(t.toLocaleDateString(),"\n    </time-ago>\n  </span>")}function d(e){if(0<e){var t=1===e?r.c("note.comment"):r.c("note.comments",e);return'<span class="label label-primary my-1 comments-modal-trigger c-hand">'.concat(t,"</span>")}}function m(e){var t=l.a(a()(e).reverse());if(t){var n=[],o=!0,r=!1,i=void 0;try{for(var c,s,u=t.properties.emojiFlag[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)s=c.value,n.push(s.codePointAt(0).toString(16))}catch(e){r=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}var d="https://twemoji.maxcdn.com/v/latest/svg/".concat(n.join("-"),".svg");return'<span class="my-1">\n            <img class="icon" src="'.concat(d,'">\n          </span>')}}function p(e,t){if(t)return'<span class="label label-error my-1">'.concat(r.c("note.anonymous"),"</span>");var n=c.a.get(e),o=n.image?'<img src="'.concat(n.image,'">'):"",a=s.c(n.name);return'<figure class="avatar" data-initial="'.concat(a,'">').concat(o,'</figure>\n            <a href="').concat("https://www.openstreetmap.org","/user/").concat(n.name,'" target="_blank" rel="noopener">\n              <span class="tooltip tooltip-bottom" data-tooltip="').concat(r.c("user.created",n.created.toLocaleDateString()),'">\n                ').concat(n.name,"\n              </span>\n            </a>")}function h(e){return"opened"===e?'<span class="label label-success my-1">'.concat(r.c("note.action.opened"),"</span>"):"closed"===e?'<span class="label label-error my-1">'.concat(r.c("note.action.closed"),"</span>"):"reopened"===e?'<span class="label label-warning my-1">'.concat(r.c("note.action.reopened"),"</span>"):void 0}function g(e){return'<a href="'.concat("https://www.openstreetmap.org","/reports/new?reportable_type=Note&reportable_id=").concat(e,'" target="_blank" rel="noopener">\n            <span class="icon icon-flag float-right tooltip tooltip-bottom" data-tooltip="').concat(r.c("action.report"),'"></span>\n          </a>')}},171:function(e,t,n){var o={"./expert":[104,4],"./expert.js":[104,4],"./map":[105,5],"./map.js":[105,5],"./ui":[97,6],"./ui.js":[97,6]};function a(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(o)},a.id=171,e.exports=a},172:function(e,t,n){"use strict";n.r(t);var o=n(3),a=n.n(o),r=n(9),i=n.n(r),c=(n(108),n(109),n(119),n(121),n(123),n(136),n(143),n(54),n(5)),s=n.n(c),l=n(6),u=n.n(l),d=n(1),m=osmAuth({oauth_consumer_key:"JVmpxVyZ0ha7NtHasW3JhRyQ4spqJLKydTU46E76",oauth_secret:"8djZYfFcMkpUYXz84PwZDdwHoKAcaEgWqFLpVWf9",url:"https://www.openstreetmap.org",auto:!0,landing:d.c()===d.b?"landing.html":"../landing.html"}),p=function(){function e(){s()(this,e)}return u()(e,[{key:"login",value:function(){var e=this;return new Promise((function(t,n){m.authenticate((function(o){o?n(o):t(e.request("GET","user/details"))}))}))}},{key:"logout",value:function(){m.logout()}},{key:"authenticated",value:function(){return m.authenticated()}},{key:"comment",value:function(e,t,n){return this.authenticated()?t?(n||(n="comment"),this.request("POST","notes/".concat(e,"/").concat(n,".json?text=").concat(encodeURIComponent(t)))):Promise.reject(new Error("No text was given")):Promise.reject(new Error("User is not authenticated"))}},{key:"request",value:function(e,t){var n={method:e,path:"/api/0.6/".concat(t)};return new Promise((function(e,t){m.xhr(n,(function(n,o){n?t(n):e(o)}))}))}}]),e}(),h=n(11),g=n(34),f=n.n(g),y=n(21),v=n.n(y),b=n(41),w=n.n(b),E=n(35),k=n.n(E),L=function(){function e(){s()(this,e)}return u()(e,null,[{key:"init",value:function(){document.getElementsByClassName("modal-trigger").forEach((function(t){t.addEventListener("click",(function(){e.open(t.dataset.modal)}))})),document.getElementsByClassName("modal-close").forEach((function(t){t.addEventListener("click",(function(t){e.close(t.target.closest(".modal"))}))}))}},{key:"open",value:function(e){var t=document.querySelector('.modal[data-modal="'.concat(e,'"]'));t.classList.add("active"),t.getElementsByClassName("modal-body")[0].scrollTop=0}},{key:"close",value:function(e){e.classList.remove("active"),e.querySelectorAll(".clear-on-modal-close").forEach((function(e){return e.innerHTML=""}))}}]),e}(),B=n(95),I=n.n(B),x=function(e){function t(){return s()(this,t),f()(this,v()(t).apply(this,arguments))}return k()(t,e),u()(t,null,[{key:"load",value:function(e){w()(v()(t),"open",this).call(this,"comments");var n=e.comments;n.forEach((function(e,t){n[t].badges={age:h.a(e.color,e.date),user:h.f(e.uid,e.anonymous),status:h.e(e.action)}})),document.getElementById("comments").innerHTML=I()({comments:n}),document.getElementById("comments").dataset.noteId=e.id,document.getElementById("note-link").href="".concat("https://www.openstreetmap.org","/note/").concat(e.id);var o=document.getElementById("note-comment");o.value="",o.dispatchEvent(new Event("input")),document.querySelector('.comment-action[data-action="comment"]').style.display="open"===e.status?"block":"none",document.querySelector('.comment-action[data-action="close"]').style.display="open"===e.status?"block":"none",document.querySelector('.comment-action[data-action="reopen"]').style.display="closed"===e.status?"block":"none"}}]),t}(L),S=n(28),j=n(0),A=n(2),C=n(96),T=n.n(C),O=function(e){function t(){return s()(this,t),f()(this,v()(t).apply(this,arguments))}return k()(t,e),u()(t,null,[{key:"load",value:function(){var e=i()(a.a.mark((function e(n){var o,r,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w()(v()(t),"open",this).call(this,"mapillary"),(o=document.getElementById("mapillary")).classList.add("loading","loading-lg"),r="".concat(n.coordinates[1],",").concat(n.coordinates[0]),i="https://www.mapillary.com/app/?lat=".concat(n.coordinates[0],"&lng=").concat(n.coordinates[1],"&z=17&focus=map"),document.getElementById("mapillary-link").href=i,e.next=8,A.e("https://a.mapillary.com/v3/images?closeto=".concat(r,"&radius=50&per_page=20&client_id=").concat("eUFYWUdRTmxZQVhRajkybHNRMnZoQTpiMTFjMDRlYmJmZGQ5ODNi"),A.a.JSON);case 8:c=(c=e.sent).features.map((function(e){return{key:e.properties.key,user:e.properties.username}})),o.innerHTML=T()({images:c,link:i,expert:d.c()===d.a}),j.b(document.getElementById("mapillary")),o.classList.remove("loading","loading-lg");case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(L),N=n(42);function M(){var e=new URL(window.location);e.hash="";var t=document.getElementById("query").value,n=document.getElementById("limit").value,o=document.getElementById("show-closed").checked,a=document.getElementById("user").value,r=document.getElementById("from").value,i=document.getElementById("to").value,c=document.getElementById("hide-anonymous").checked,s={query:t,limit:n,user:a,from:r,to:i};if(o&&(s.closed=!0),c&&(s.anonymous=!1),d.c()===d.b){var l=new S.a("map"),u=document.getElementById("show-map").checked,m="".concat(l.zoom(),"/").concat(l.center().lat,"/").concat(l.center().lng);u&&m&&(s.map=m)}e.search=A.d(s),delete s.map,s=A.d(s),document.getElementById("link").href=d.c()===d.b?"./expert/?".concat(s):"../?".concat(s),document.getElementById("permalink").value=e.toString()}var _=n(7),q=n(23),D=n(33),P=n(22),U=n(10);n.p=d.c()===d.b?"dist/":"../dist/";var F,Z,z,R=new p;function J(){return H.apply(this,arguments)}function H(){return(H=i()(a.a.mark((function e(){var t,n,o,r,i,c,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("query").value,n=document.getElementById("limit").value,o=document.getElementById("show-closed").checked,r=document.getElementById("user").value,i=document.getElementById("from").value,c=document.getElementById("to").value,1e4<n&&(n=1e4,document.getElementById("limit").value=1e4,V(j.c("description.autoLimit"),"toast-warning")),["anonymous",j.c("note.anonymous")].includes(r)?(r=null,document.getElementById("hide-anonymous").checked=!1,document.getElementById("hide-anonymous").setAttribute("disabled","true")):document.getElementById("hide-anonymous").removeAttribute("disabled"),document.getElementById("preloader").classList.remove("d-hide"),document.getElementById("search").classList.add("d-hide"),document.getElementById("cancel").classList.remove("d-hide"),z=new q.b(t,n,o,r,i,c),(s=_.a.get("previous",!0))&&(z.url=s.url,z.api=s.api,_.a.remove("previous",!0)),e.next=16,z.search();case 16:l=e.sent,Z.show(Array.from(l),z).then(Y).finally((function(){document.getElementById("preloader").classList.add("d-hide"),document.getElementById("search").classList.remove("d-hide"),document.getElementById("cancel").classList.add("d-hide")}));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return $.apply(this,arguments)}function $(){return($=i()(a.a.mark((function e(t,n,o){var r,i,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.getElementById("toast-container"),(i=document.createElement("div")).classList.add("toast",n||"toast-primary"),(c=document.createElement("button")).classList.add("btn","btn-clear","float-right"),c.addEventListener("click",(function(){document.getElementById("toast-container").removeChild(i)})),i.appendChild(c),i.appendChild(document.createTextNode(t)),r.appendChild(i),e.next=11,U.f(o||4e3);case 11:r.contains(i)&&r.removeChild(i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){var e=document.getElementById("search"),t=document.getElementById("fast-search");4>F.boundsSize()?(t.classList.remove("d-hide"),e.classList.remove("tooltip")):(t.classList.add("d-hide"),e.classList.add("tooltip"))}function Y(e){e&&(0===e.amount?(V(j.c("description.nothingFound"),"toast-error"),document.getElementById("found-notes").textContent=""):e.amount&&(document.getElementById("found-notes").textContent=j.c("note.amount",e.amount)),e.average&&(document.getElementById("average-date").innerHTML=j.c("note.average",h.a(U.e(e.average),e.average,!0))))}function K(){document.querySelector('.modal-trigger[data-modal="share"]').addEventListener("click",(function(){return M()})),document.getElementById("search").addEventListener("click",(function(){return J()})),document.getElementById("cancel").addEventListener("click",(function(){return A.c()})),document.getElementById("sort-order")&&(document.getElementById("sort-order").checked=!0,document.getElementById("sort-order").addEventListener("change",(function(){document.getElementById("notes").classList.toggle("reverse")}))),document.getElementById("hide-anonymous").addEventListener("change",(function(){Z.reload().then(Y)})),document.getElementById("login").addEventListener("click",(function(){var e=document.getElementById("login");e.classList.add("loading"),R.login().then((function(t){e.classList.add("d-hide"),document.getElementById("logout").classList.remove("d-hide"),document.body.dataset.authenticated=!0;var n=t.getElementsByTagName("user")[0].getAttribute("id");_.a.set({uid:n}),P.a.avatar(n)})).catch((function(e){console.log(e),document.body.dataset.authenticated=!1})).finally((function(){e.classList.remove("loading")}))})),document.getElementById("logout").addEventListener("click",(function(){R.logout(),document.getElementById("logout").classList.add("d-hide"),document.getElementById("login").classList.remove("d-hide"),document.body.dataset.authenticated=!1})),document.getElementById("note-comment").addEventListener("input",(function(){""===document.getElementById("note-comment").value.trim()?document.getElementById("note-comment-actions").classList.add("d-hide"):document.getElementById("note-comment-actions").classList.remove("d-hide")})),document.getElementsByClassName("comment-action").forEach((function(e){e.addEventListener("click",(function(){e.classList.add("loading");var t=Number.parseInt(document.getElementById("comments").dataset.noteId),n=document.getElementById("note-comment").value.trim();R.comment(t,n,e.dataset.action).then((function(e){Z.update(t,new N.a(JSON.parse(e),z.api)).then(Y),x.load(Z.get(t))})).catch((function(e){console.log(e)})).finally((function(){e.classList.remove("loading")}))}))})),document.getElementsByClassName("setting").forEach((function(e){e.addEventListener("change",(function(){_.a.set({theme:document.getElementById("theme-selection").value,editors:{id:document.getElementById("editor-id").checked,josm:document.getElementById("editor-josm").checked,level0:document.getElementById("editor-level0").checked},tools:{openstreetmap:document.getElementById("tool-openstreetmap").checked,mapillary:document.getElementById("tool-mapillary").checked}}),X()}))})),document.getElementsByClassName("update-link").forEach((function(e){e.addEventListener("change",(function(){return M()}))})),document.getElementById("permalink").addEventListener("click",document.getElementById("permalink").select),document.getElementById("permalink").addEventListener("dblclick",(function(){document.getElementById("permalink").select(),document.execCommand("copy"),V(j.c("action.copyLinkSuccess"),"toast-success")})),document.getElementById("permalink-copy").addEventListener("click",(function(){document.getElementById("permalink").select(),document.execCommand("copy"),V(j.c("action.copyLinkSuccess"),"toast-success")})),document.getElementById("link").addEventListener("click",(function(){_.a.set({previous:{url:z.url,api:z.api}},!0)})),document.addEventListener("keydown",(function(e){if(13===e.which){if(d.c()===d.b&&document.querySelector(".leaflet-control-geocoder-form input")===document.activeElement)return;A.f()?(A.c(),document.getElementById("preloader").classList.add("d-hide"),document.getElementById("search").classList.remove("d-hide"),document.getElementById("cancel").classList.add("d-hide")):J()}})),window.addEventListener("beforeunload",(function(){if(document.getElementById("remote").remove(),d.c()===d.b){var e=F.center();_.a.set({map:{latitude:e.lat,longitude:e.lng,zoom:F.zoom()}})}_.a.set({lastVisit:(new Date).getTime()})})),document.addEventListener("click",(function(e){var t=e.target.closest(".comments-modal-trigger");if(t){var n=Number.parseInt(t.closest("[data-note-id]").dataset.noteId);x.load(Z.get(n))}var o=e.target.closest(".link-tool-mapillary");if(o){var a=Number.parseInt(o.closest("[data-note-id]").dataset.noteId);O.load(Z.get(a))}}))}function Q(){new URL(window.location.href).searchParams.forEach((function(e,t){switch(t){case"map":if(d.c()===d.b){var n=e.split("/");F.setView([n[1],n[2]],n[0])}break;case"query":document.getElementById("query").value=e;break;case"limit":document.getElementById("limit").value=e;break;case"user":document.getElementById("user").value=e;break;case"from":document.getElementById("from").value=e;break;case"to":document.getElementById("to").value=e;break;case"closed":document.getElementById("show-closed").checked=!("true"!==e);break;case"anonymous":document.getElementById("hide-anonymous").checked="true"!==e}}));var e=window.location.toString();0<e.indexOf("?")&&window.history.replaceState({},document.title,e.substring(0,e.indexOf("?"))),M()}function X(){var e=_.a.get("editors"),t=_.a.get("tools");document.getElementById("editor-id").checked=e.id,document.getElementById("editor-josm").checked=e.josm,document.getElementById("editor-level0").checked=e.level0,document.getElementById("tool-openstreetmap").checked=t.openstreetmap,document.getElementById("tool-mapillary").checked=t.mapillary,document.body.dataset.editorId=e.id,document.body.dataset.editorJosm=e.josm,document.body.dataset.editorLevel0=e.level0,document.body.dataset.toolOpenstreetmap=t.openstreetmap,document.body.dataset.toolMapillary=t.mapillary;var n=_.a.get("theme");document.getElementById("theme-selection").value=n,D.c(n)}function G(){return(G=i()(a.a.mark((function e(){var t,o,r,i,c,s,l,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return-1===window.navigator.userAgent.indexOf("MSIE ")&&!window.navigator.userAgent.match(/Trident.*rv:11\./)&&window.Promise&&window.fetch||document.body.classList.add("deprecated-browser"),e.next=3,n.e(7).then(n.bind(null,181));case 3:return e.next=5,j.a();case 5:return L.init(),t=d.c()===d.b?"map":"expert",e.next=9,n(171)("./".concat(t));case 9:o=e.sent,r=o.default,Z=new r,null===_.a.get("lastVisit")&&(_.a.reset(),_.a.set({lastVisit:(new Date).getTime()})),d.c()===d.b&&(F=new S.a("map",W),!new URL(window.location.href).searchParams.has("map")&&(i=_.a.get("map")||{},c=i.latitude,s=i.longitude,l=i.zoom,c&&s&&l&&F.setView([c,s],l))),u=R.authenticated(),document.body.dataset.authenticated=u,u?(document.getElementById("login").classList.add("d-hide"),document.getElementById("logout").classList.remove("d-hide"),P.a.avatar(_.a.get("uid"))):(document.getElementById("login").classList.remove("d-hide"),document.getElementById("logout").classList.add("d-hide")),K(),Q(),X(),J();case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){G.apply(this,arguments)}()},2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d}));var o=n(23),a=new AbortController,r=!1,i={JSON:"application/json",XML:"text/xml"};function c(e,t,n,a,r,i,c){var s=new URL("https://www.openstreetmap.org");s.pathname=c===o.a.DEFAULT?"/api/0.6/notes.json":"/api/0.6/notes/search.json";var l={q:e,limit:t,display_name:a,closed:n?"-1":"0",from:r,to:i};return c===o.a.DEFAULT&&(delete l.q,l.bbox=e),s.search=d(l,!0),s.toString()}function s(e,t){return r=!0,a=new AbortController,fetch(e,{signal:a.signal}).then((function(e){return t===i.JSON?e.json():e.text()})).then((function(e){return t===i.XML?(new DOMParser).parseFromString(e,"text/xml"):e})).catch((function(t){console.log("Error while fetching file at ".concat(e,": ").concat(t))})).finally((function(){r=!1}))}function l(){return r}function u(){a.abort()}function d(e,t){var n=[];for(var o in e)""===e[o]||t&&null===e[o]||n.push("".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(e[o])));return n.join("&")}},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n(3),a=n.n(o),r=n(9),i=n.n(r),c=n(5),s=n.n(c),l=n(6),u=n.n(l),d=n(2),m=n(10),p=function(){function e(){s()(this,e)}return u()(e,null,[{key:"load",value:(t=i()(a.a.mark((function t(n){var o,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.all||(e.all=new Set),n=m.b(Array.from(n),500),o=0;case 3:if(!(o<n.length)){t.next=12;break}return r="".concat("https://www.openstreetmap.org","/api/0.6/users?users=").concat(n[o].join(",")),t.next=7,d.e(r,d.a.XML);case 7:t.sent.documentElement.children.forEach((function(t){e.all.add({id:Number.parseInt(t.getAttribute("id")),name:t.getAttribute("display_name"),created:new Date(t.getAttribute("account_created")),description:t.getElementsByTagName("description")[0].innerText,image:t.querySelector("img[href]")?t.getElementsByTagName("img")[0].getAttribute("href"):null,changesets:t.getElementsByTagName("changesets")[0].getAttribute("count")})}));case 9:o++,t.next=3;break;case 12:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})},{key:"get",value:function(t){return t?Array.from(e.all).find((function(e){return e.id===t})):void 0}},{key:"avatar",value:function(){var t=i()(a.a.mark((function t(n){var o,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=document.getElementById("user-avatar"),n){t.next=4;break}return o.style.display="none",t.abrupt("return");case 4:return t.next=6,e.load(new Set([n]));case 6:r=e.get(Number.parseInt(n)),o.style.display="inline-block",o.dataset.initial=m.c(r.name),o.innerHTML=r.image?'<img src="'.concat(r.image,'">'):"";case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),e;var t}()},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b}));var o=n(3),a=n.n(o),r=n(32),i=n.n(r),c=n(9),s=n.n(c),l=n(5),u=n.n(l),d=n(6),m=n.n(d),p=n(28),h=n(1),g=n(42),f=n(2),y=n(22),v={DEFAULT:"default",SEARCH:"search"},b=function(){function e(t,n,o,a,r,i){u()(this,e),this.query=t||null,this.limit=n||null,this.closed=o||!1,this.user=a||null,this.from=r||null,this.to=i||null,this.notes=new Set,this.api=v.SEARCH,this.url=this.build()}return m()(e,[{key:"search",value:function(){var e=s()(a.a.mark((function e(){var t,n,o,r,c,s=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.notes=new Set,t=new Set,"string"!=typeof(n=this.url)){e.next=9;break}return e.next=6,f.e(n,f.a.JSON);case 6:o=e.sent,e.next=20;break;case 9:if(!Array.isArray(n)){e.next=20;break}o={type:"FeatureCollection",features:[]},r=0;case 12:if(!(r<n.length)){e.next=20;break}return e.next=15,f.e(n[r],f.a.JSON);case 15:(c=e.sent)&&c.features&&(o.features=o.features.concat(c.features));case 17:r++,e.next=12;break;case 20:if(o&&0!==o.features.length){e.next=22;break}return e.abrupt("return",this.notes);case 22:return o.features.forEach((function(e){try{var n=new g.a(e);s.notes.add(n),t=new Set([].concat(i()(t),i()(n.users)))}catch(e){console.error(e)}})),this.notes=Array.from(this.notes),this.notes.sort((function(e,t){return t.id-e.id})),e.next=27,y.a.load(t);case 27:return e.abrupt("return",this.notes);case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"build",value:function(){var e,t=this;if(h.c()===h.b){var n=new p.a("map"),o=n.boundsSize();if(.25>o)this.api=v.DEFAULT,e=f.b(n.bounds().toBBoxString(),this.limit,this.closed,this.user,this.from,this.to,this.api);else if(.25<=o&&1>=o){this.api=v.DEFAULT,e=[],n.splitBounds(n.bounds(),1).forEach((function(n){e.push(f.b(n.toBBoxString(),t.limit,t.closed,t.user,t.from,t.to,t.api))}))}else if(1<=o&&4>=o){this.api=v.DEFAULT,e=[],n.splitBounds(n.bounds(),2).forEach((function(n){e.push(f.b(n.toBBoxString(),t.limit,t.closed,t.user,t.from,t.to,t.api))}))}else this.api=v.SEARCH,e=f.b(this.query,this.limit,this.closed,this.user,this.from,this.to,this.api)}else this.api=v.SEARCH,e=f.b(this.query,this.limit,this.closed,this.user,this.from,this.to,this.api);return e}}]),e}()},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o,a=n(5),r=n.n(a),i=n(6),c=n.n(i),s=n(0),l=n(33),u={},d={minZoom:2,maxZoom:18,center:[0,0],zoom:2},m=function(){function e(t,n){var o=this;r()(this,e),u[t]?this.map=u[t]:(this.map=L.map(t,{minZoom:d.minZoom,maxZoom:d.maxZoom,center:d.center,zoom:d.zoom,maxBounds:L.latLngBounds(L.latLng(-90,-180),L.latLng(90,180))}),u[t]=this.map,n&&this.map.on("move",n),this.map.on("popupopen",(function(e){e.popup._container.querySelectorAll("img").forEach((function(t){return t.onload=function(){return e.popup.update()}}))})),L.Control.geocoder&&L.Control.geocoder({placeholder:s.c("action.search"),errorMessage:s.c("description.nothingFound")}).addTo(this.map),this.tiles(),document.addEventListener("color-scheme-changed",(function(){return o.tiles()})))}return c()(e,[{key:"tiles",value:function(){o&&this.map.removeLayer(o);var e=l.b()===l.a?"dark_all":"light_all",t=L.Browser.retina?"@2x.png":".png";o=L.tileLayer("https://cartodb-basemaps-{s}.global.ssl.fastly.net/".concat(e,"/{z}/{x}/{y}").concat(t),{maxZoom:d.maxZoom,subdomains:"abcd",attribution:s.c("map.attribution")}),this.map.addLayer(o)}},{key:"addLayer",value:function(e){this.map.addLayer(e)}},{key:"removeLayers",value:function(){var e=this;this.map.eachLayer((function(t){t!==o&&e.map.removeLayer(t)}))}},{key:"marker",value:function(e){L.marker(e).addTo(this.map)}},{key:"bounds",value:function(){return this.map.getBounds()}},{key:"boundsSize",value:function(){var e=this.bounds();return(e.getNorth()-e.getSouth())*(e.getEast()-e.getWest())}},{key:"splitBounds",value:function(e,t){Array.isArray(e)||(e=[e]);for(var n,o=0;o<t;o++){n=[];for(var a=0;a<e.length;a++){var r=[],i=e[a],c=(i.getWest()+i.getEast())/2,s=(i.getSouth()+i.getNorth())/2;0<c-180?c-=360:0>c+180&&(c+=360),r.push(L.latLngBounds(L.latLng(i.getSouth(),i.getWest()),L.latLng(s,c))),r.push(L.latLngBounds(L.latLng(i.getSouth(),c),L.latLng(s,i.getEast()))),r.push(L.latLngBounds(L.latLng(s,c),L.latLng(i.getNorth(),i.getEast()))),r.push(L.latLngBounds(L.latLng(s,i.getWest()),L.latLng(i.getNorth(),c))),n=n.concat(r)}e=n}return e}},{key:"center",value:function(){return L.latLng(this.map.getCenter().lat.toFixed(4),this.map.getCenter().lng.toFixed(4))}},{key:"zoom",value:function(){return this.map.getZoom().toFixed(0)}},{key:"setView",value:function(e,t){this.map.setView(e,t)}},{key:"flyToBounds",value:function(e,t){this.map.flyToBounds(e,{duration:t,maxZoom:d.maxZoom})}}]),e}()},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var o=n(7),a="dark",r=o.a.get("theme")||"system",i=window.matchMedia("(prefers-color-scheme: dark)");function c(e){e===r||(r=e,l(),"system"===r?i.addListener(l):i.removeListener(l))}function s(){return"light"===r?"light":r===a?a:"system"===r&&i.matches?a:"light"}function l(){document.body.dataset.theme=s(),document.dispatchEvent(new Event("color-scheme-changed"))}document.body.dataset.theme=s()},42:function(e,t,n){"use strict";var o=n(15),a=n.n(o),r=n(5),i=n.n(r),c=n(6),s=n.n(c),l=n(11),u=n(91),d=new(n.n(u).a),m={imgur:/(http(s)?:\/\/)?i\.imgur\.com\/\w+\.(jpg|png)/i,framapic:/(http(s)?:\/\/)?(www\.)?framapic\.org\/(random\?i=)?\w+\/\w+(\.(jpg|jpeg|png))?/i,westnordost:/https:\/\/westnordost\.de\/p\/[0-9]+\.jpg/i,wikimedia:/http(?:s)?:\/\/upload\.wikimedia\.org\/wikipedia\/(.+?)\/(?:thumb\/)?(\w\/\w\w)\/(.+?\.(?:jpg|jpeg|png))(?:\/.+?\.(?:jpg|jpeg|png))?/i,commons:/http(?:s)?:\/\/commons\.wikimedia\.org\/wiki\/File:(.+?\.(?:jpg|jpeg|png|svg))/i},p={wikimedia:"https://upload.wikimedia.org/wikipedia/$1/thumb/$2/$3/300px-$3",commons:"https://commons.wikimedia.org/wiki/Special:FilePath/$1?width=300"};function h(e){var t=d.match(e)||[],n=[],o=[],r=0;return t.forEach((function(t){var i=function(e){var t=!1,n=null;return Object.entries(m).forEach((function(o){var r=a()(o,2),i=r[0],c=r[1],s=p[i];c.test(e)&&(t=!0,s&&(n=e.replace(new RegExp(c.source,"gi"),s)))})),{image:t,formatted:n}}(t.url),c=i.image,s=i.formatted;if(s&&(t.url=s),r<t.index){var l=g(e.slice(r,t.index)),u=t.index-1===r;l=l.replace(/\r?\n/g,u?"":"<br>"),u||!c||l.endsWith("<br>")||(l+="<br>"),n.push(l)}var d=decodeURI(t.text);c&&(o.push(t.url),d='<img class="img-responsive img-preview p-1" src="'.concat(g(t.url),'" alt="').concat(d,'">')),n.push('<a href="'.concat(g(t.url),'" target="_blank" rel="noopener noreferrer">').concat(d,"</a>")),r=t.lastIndex})),r<e.length&&n.push(g(e.slice(r)).replace(/\r?\n/g,"<br>")),{images:o,html:n.join("")}}function g(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var f=n(0),y=n(10);n.d(t,"a",(function(){return b}));var v=[/(?:https?:\/\/)?(?:www\.)?(?:osm|openstreetmap)\.org\/(node|way|relation)\/([0-9]+)/,/(node|way|relation)\/([0-9]+)/,/(node|way|relation)(?:\\s)?#([0-9]+)/,/(n|w|r)\/([0-9]+)/],b=function(){function e(t){if(i()(this,e),0===t.properties.comments.length)throw new Error("Note ".concat(t.properties.id," can not be parsed because there are no comments."));this.id=t.properties.id,this.status=t.properties.status,this.coordinates=t.geometry.coordinates.reverse(),this.comments=this.parseComments(t.properties.comments),this.users=this.comments.filter((function(e){return null!==e.uid})).map((function(e){return e.uid})),this.anonymous=this.comments[0].anonymous,this.user=this.comments[0].user,this.created=new Date(t.properties.date_created.replace(/-/g,"/")),this.updated=this.comments[this.comments.length-1].date,this.color=y.e(this.created)}return s()(e,[{key:"parseComments",value:function(e){for(var t,n=[],o=e.length-1;0<=o;o--){(t=e[o]).anonymous=!t.user,t.anonymous&&(t.user=f.c("note.anonymous"),t.uid=null),t.date=new Date(t.date.replace(/-/g,"/")),t.color=y.e(t.date);var a=h(t.text);t.html=a.html,t.images=a.images,n.includes(t.text)?e.splice(o,1):""!==t.text&&n.push(t.text)}return e}},{key:"actions",get:function(){var e,t=this,n=y.a(this.coordinates),o={osm:{class:"link-osm",link:"".concat("https://www.openstreetmap.org","/note/").concat(this.id),icon:"icon-external",text:f.c("action.openstreetmap")},iD:{class:"link-editor-id",link:"".concat("https://www.openstreetmap.org","/edit?editor=id#map=19/").concat(this.coordinates.join("/")),icon:"icon-external",text:f.c("action.edit.id")},josm:{class:"link-editor-josm",link:"http://127.0.0.1:8111/load_and_zoom?left=".concat(n.left,"&bottom=").concat(n.bottom,"&right=").concat(n.right,"&top=").concat(n.top),icon:"icon-external",text:f.c("action.edit.josm"),remote:!0},level0:{class:"link-editor-level0",link:"http://level0.osmz.ru/?center=".concat(this.coordinates.join()),icon:"icon-external",text:f.c("action.edit.level0")},mapillary:{class:"link-tool-mapillary",icon:"icon-mapillary",text:f.c("action.mapillary")},comment:{class:"comments-modal-trigger requires-authentication",icon:"icon-pencil",text:f.c("action.comment")}};return 1<this.comments.length&&delete o.comment,v.forEach((function(n){if(!e&&((e=t.comments[0].html.match(n))&&1<e.length)){var r=e,i=a()(r,3),c=i[1],s=i[2];"n"===c?c="node":"w"===c?c="way":"r"===c&&(c="relation"),o.iD.link="".concat("https://www.openstreetmap.org","/edit?editor=id&").concat(c,"=").concat(s),o.josm.link+="&select=".concat(c).concat(s),o.level0.link="http://level0.osmz.ru/?url=".concat(c,"/").concat(s,"&center=").concat(t.coordinates.join())}})),Object.values(o)}},{key:"badges",get:function(){return{age:l.a(this.color,this.created),comments:l.b(this.comments.length-1),country:l.c(this.coordinates),user:l.f(this.comments[0].uid,this.anonymous),report:l.d(this.id)}}}]),e}()},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(5),a=n.n(o),r=n(6),i=n.n(r),c=/^({|\[)[\s\S]*(}|\])$/m,s={map:{latitude:0,longitude:0,zoom:2},theme:"system",tools:{openstreetmap:!0,mapillary:!1},editors:{id:!0,josm:!1,level0:!0}},l=function(){function e(){a()(this,e)}return i()(e,null,[{key:"get",value:function(e,t){var n=(t?window.sessionStorage:window.localStorage).getItem(e);return c.test(n)&&(n=JSON.parse(n)),n||s[e]}},{key:"set",value:function(e,t){var n=t?window.sessionStorage:window.localStorage;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=e[o];if(Array.isArray(a))n.setItem(o,JSON.stringify(a));else if("object"==typeof a){var r=n.getItem(o);r=c.test(r)?JSON.parse(r):{},n.setItem(o,JSON.stringify(Object.assign(r,a)))}else n.setItem(o,a)}}},{key:"remove",value:function(e,t){(t?window.sessionStorage:window.localStorage).removeItem(e)}},{key:"reset",value:function(){window.sessionStorage.clear(),window.localStorage.clear(),e.set(s)}}]),e}()},90:function(e,t,n){var o={"./de":[100,0],"./de.json":[100,0],"./en":[101,1],"./en.json":[101,1],"./es":[102,2],"./es.json":[102,2],"./it":[103,3],"./it.json":[103,3]};function a(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,3)}))}a.keys=function(){return Object.keys(o)},a.id=90,e.exports=a},95:function(e,t,n){var o=n(53);e.exports=function(){var e=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.s(o.f("comments",e,t,1),e,t,0,13,233,"{{ }}")&&(o.rs(e,t,(function(e,t,n){n.b(' <div class="tile"><div class="tile-content"><div class="tile-title"> '),n.b(n.t(n.d("badges.user",e,t,0))),n.b(" "),n.b(n.t(n.d("badges.age",e,t,0))),n.b(" "),n.b(n.t(n.d("badges.status",e,t,0))),n.b('</div><p class="tile-subtitle text-break">'),n.b(n.t(n.f("html",e,t,0))),n.b('</p></div></div><div class="divider"></div> ')})),e.pop()),o.fl()},partials:{},subs:{}},'{{#comments}} <div class="tile"><div class="tile-content"><div class="tile-title"> {{{badges.user}}} {{{badges.age}}} {{{badges.status}}}</div><p class="tile-subtitle text-break">{{{html}}}</p></div></div><div class="divider"></div> {{/comments}}',o);return e.render.apply(e,arguments)}},96:function(e,t,n){var o=n(53);e.exports=function(){var e=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.s(o.d("images.length",e,t,1),e,t,0,18,708,"{{ }}")&&(o.rs(e,t,(function(e,t,n){n.b(" "),n.s(n.f("images",e,t,1),e,t,0,30,696,"{{ }}")&&(n.rs(e,t,(function(e,t,n){n.b(' <div class="column col-4 col-md-6 my-1"><div class="mapillary-image p-relative"><img src="https://images.mapillary.com/'),n.b(n.v(n.f("key",e,t,0))),n.b('/thumb-320.jpg" class="img-responsive" width="320" height="240"> <a class="mapillary-image-link p-absolute px-2" href="https://www.mapillary.com/app/?pKey='),n.b(n.v(n.f("key",e,t,0))),n.b('" target="_blank" rel="noopener"><img src="'),n.s(n.f("expert",e,t,1),e,t,0,373,376,"{{ }}")&&(n.rs(e,t,(function(e,t,n){n.b("../")})),e.pop()),n.b('assets/logos/mapillary.svg"></a><p class="mapillary-image-user p-absolute px-2 bg-dark">@'),n.b(n.v(n.f("user",e,t,0))),n.b(' <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"><abbr title="Creative Commons Attribution-ShareAlike 4.0 International License">(CC BY-SA 4.0)</abbr></a></p></div></div> ')})),e.pop()),n.b(" ")})),e.pop()),o.b(" "),o.s(o.d("images.length",e,t,1),e,t,1,0,0,"")||(o.b(' <div class="empty col-12"><div class="empty-icon"></div><p class="empty-title h5" data-i18n="mapillary.empty.title">There are no photos of this place yet</p><p class="empty-subtitle" data-i18n="mapillary.empty.subtitle">You can help other mappers by uploading street-level imagery to Mapillary.</p><div class="empty-action"><a class="btn btn-primary" href="'),o.b(o.v(o.f("link",e,t,0))),o.b('" target="_blank" rel="noopener"><span class="icon icon-mapillary"></span> <span data-i18n="mapillary.empty.add">Add photos of this place</span></a></div></div> ')),o.fl()},partials:{},subs:{}},'{{#images.length}} {{#images}} <div class="column col-4 col-md-6 my-1"><div class="mapillary-image p-relative"><img src="https://images.mapillary.com/{{key}}/thumb-320.jpg" class="img-responsive" width="320" height="240"> <a class="mapillary-image-link p-absolute px-2" href="https://www.mapillary.com/app/?pKey={{key}}" target="_blank" rel="noopener"><img src="{{#expert}}../{{/expert}}assets/logos/mapillary.svg"></a><p class="mapillary-image-user p-absolute px-2 bg-dark">@{{user}} <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"><abbr title="Creative Commons Attribution-ShareAlike 4.0 International License">(CC BY-SA 4.0)</abbr></a></p></div></div> {{/images}} {{/images.length}} {{^images.length}} <div class="empty col-12"><div class="empty-icon"></div><p class="empty-title h5" data-i18n="mapillary.empty.title">There are no photos of this place yet</p><p class="empty-subtitle" data-i18n="mapillary.empty.subtitle">You can help other mappers by uploading street-level imagery to Mapillary.</p><div class="empty-action"><a class="btn btn-primary" href="{{link}}" target="_blank" rel="noopener"><span class="icon icon-mapillary"></span> <span data-i18n="mapillary.empty.add">Add photos of this place</span></a></div></div> {{/images.length}}',o);return e.render.apply(e,arguments)}}});