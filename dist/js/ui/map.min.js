(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{118:function(e,t,n){var s=n(60);e.exports=function(){var e=new s.Template({code:function(e,t,n){var s=this;return s.b(n=n||""),s.b('<div data-note-id="'),s.b(s.v(s.f("id",e,t,0))),s.b('"><div> '),s.b(s.t(s.d("badges.user",e,t,0))),s.b(" "),s.b(s.t(s.d("badges.age",e,t,0))),s.b(" "),s.b(s.t(s.d("badges.comments",e,t,0))),s.b('</div><div class="text-break"> '),s.b(s.t(s.f("comment",e,t,0))),s.b('</div><div class="divider"></div><div> '),s.s(s.f("actions",e,t,1),e,t,0,184,316,"{{ }}")&&(s.rs(e,t,function(e,t,n){n.b(' <a class="btn btn-primary btn-sm '),n.b(n.v(n.f("class",e,t,0))),n.b('" href="'),n.b(n.v(n.f("link",e,t,0))),n.b('" target="_blank"><span class="icon icon-external"></span> '),n.b(n.v(n.f("text",e,t,0))),n.b(" </a> ")}),e.pop()),s.b(" </div></div>"),s.fl()},partials:{},subs:{}},'<div data-note-id="{{id}}"><div> {{{badges.user}}} {{{badges.age}}} {{{badges.comments}}}</div><div class="text-break"> {{{comment}}}</div><div class="divider"></div><div> {{#actions}} <a class="btn btn-primary btn-sm {{class}}" href="{{link}}" target="_blank"><span class="icon icon-external"></span> {{text}} </a> {{/actions}} </div></div>',s);return e.render.apply(e,arguments)}},66:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return u});var s=n(19),a=n.n(s),i=n(20),r=n.n(i),o=n(18),c=n(14),d=n(118),l=n.n(d),u=function(){function e(){a()(this,e),this.notes=[],this.query=null}return r()(e,[{key:"show",value:function(e,t){if(this.notes=e,t?this.query=t:this.query&&(t=this.query),0===e.length)return Promise.resolve();var n=0,s=0,a=L.markerClusterGroup();e.forEach(function(e){if(e.visible=c.b(e),e.visible){n++,s+=e.date.getTime();var i=t.closed?"open"===e.status?"assets/markers/green.svg":"assets/markers/red.svg":"assets/markers/".concat(e.color,".svg"),r=L.marker(e.coordinates,{icon:new L.divIcon({html:'<div class="marker-container"><img src="'.concat(i,'" class="marker-icon"></div>'),iconAnchor:[12.5,40],popupAnchor:[0,-30],className:"marker-icon"})});r.bindPopup(l()({id:e.id,badges:e.badges,comment:e.comment.html,actions:e.actions})),r.on("popupopen",function(e){e.target.getElement()&&e.target.getElement().getElementsByClassName("marker-icon")[0].classList.add("popup-open")}),r.on("popupclose",function(e){e.target.getElement()&&e.target.getElement().getElementsByClassName("marker-icon")[0].classList.remove("popup-open")}),a.addLayer(r)}});var i=new o.a("map");return i.removeLayers(),i.addLayer(a),0<n&&i.flyToBounds(a.getBounds(),1),Promise.resolve({amount:n,average:new Date(s/n)})}},{key:"get",value:function(e){return this.notes.find(function(t){return t.id===e})}},{key:"reload",value:function(){return this.show(this.notes)}}]),e}()}}]);