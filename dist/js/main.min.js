!function(e){function t(t){for(var o,i,c=t[0],s=t[1],l=t[2],d=0,m=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(u&&u(t);m.length;)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={9:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=a[e]=[t,o]}));t.push(n[2]=o);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(e){return i.p+"js/"+({0:"locales/de",1:"locales/en",2:"locales/es",3:"locales/fr",4:"locales/it",5:"ui/expert",6:"ui/map",7:"ui/ui",8:"@github/time-elements",10:"relative-time-format/de",11:"relative-time-format/en",12:"relative-time-format/es",13:"relative-time-format/fr",14:"relative-time-format/it",16:"vendors~relative-time-format"}[e]||e)+".min.js"}(e);var s=new Error;r=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,n[1](s)}a[e]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="dist/",i.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;r.push([108,15]),n()}({0:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return h}));var o=n(3),a=n.n(o),r=n(10),i=n.n(r),c=n(9),s=n.n(c),l=navigator.language.split("-")[0]||navigator.userLanguage.split("-")[0],u={main:null,fallback:null};function d(e){return e=(e=e.replace(/^[A-Z]/,(function(e){return e.toLowerCase()}))).replace(/[A-Z]/,(function(e){return"-".concat(e.toLowerCase())}))}function m(e,t,n){if(n){var o="!HTML!"===n.substring(0,6);o&&(n=n.replace(/^!HTML!(\s+)?/,"")),t?e.setAttribute(t,n):""!==n&&(o?e.innerHTML=n:e.textContent=n)}}function p(e,t){var n=null===u.main?null:f(e,u.main);return n&&"string"==typeof n||(n=f(e,u.fallback)),n&&"string"==typeof n?void 0!==t&&"string"==typeof n?n.replace("%s",t):"string"==typeof n?n.replace("{{version}}","1.3.0"):n:console.error(new Error("String with the tag ".concat(e,' could not be found in "').concat(l,'.json" and "').concat("en",'.json"')))}function f(e,t){for(var n=e.split("."),o=t,a=0;a<n.length;a++)void 0!==o[n[a]]&&(o=o[n[a]]);return o}function g(e){e.querySelectorAll("[".concat("data-i18n","]")).forEach((function(e){!function(e,t){""!==t&&m(e,null,p(t));for(var n=0,o=Object.entries(e.dataset);n<o.length;n++){var a=s()(o[n],2),r=a[0],i=a[1];if("i18n"===r.substring(0,"i18n".length)&&"i18n"!==r)m(e,d(r.slice("i18n".length)),p(i))}}(e,e.dataset.i18n)}))}function h(){return y.apply(this,arguments)}function y(){return(y=i()(a.a.mark((function e(){var t,o,r,i,c,s,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(92)("./".concat(l));case 3:t=e.sent,o=t.default,u.main=o,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(new Error("".concat(l,".json does not exist, ").concat("en",".json is used instead")));case 11:return e.next=13,n(92)("./".concat("en"));case 13:if(r=e.sent,i=r.default,u.fallback=i,g(document.body),document.querySelector("html").setAttribute("lang",l),"Intl"in window&&"RelativeTimeFormat"in window.Intl){e.next=48;break}e.t1=l,e.next="de"===e.t1?22:"es"===e.t1?26:"fr"===e.t1?30:"it"===e.t1?34:38;break;case 22:return e.next=24,n.e(10).then(n.t.bind(null,175,3));case 24:return c=e.sent,e.abrupt("break",41);case 26:return e.next=28,n.e(12).then(n.t.bind(null,176,3));case 28:return c=e.sent,e.abrupt("break",41);case 30:return e.next=32,n.e(13).then(n.t.bind(null,177,3));case 32:return c=e.sent,e.abrupt("break",41);case 34:return e.next=36,n.e(14).then(n.t.bind(null,178,3));case 36:return c=e.sent,e.abrupt("break",41);case 38:return e.next=40,n.e(11).then(n.t.bind(null,179,3));case 40:c=e.sent;case 41:return e.next=43,n.e(16).then(n.bind(null,180));case 43:s=e.sent,(d=s.default).addLocale(c.default),"Intl"in window||(window.Intl={}),window.Intl.RelativeTimeFormat=d;case 48:return e.abrupt("return",Promise.resolve());case 49:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},1:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r}));var o="map",a="expert";function r(){return document.body.dataset.mode}},108:function(e,t,n){n(109),e.exports=n(174)},109:function(e,t,n){},11:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return p}));var o=n(9),a=n.n(o),r=n(0),i=n(24),c=2*Math.PI*6371e3/360;function s(e){var t=Math.abs((new Date).getTime()-e.getTime()),n=Math.round(t/36e5),o=Math.round(t/864e5),a=Math.round(t/2592e6),r=Math.round(t/315576e5);return 24>=n?"green-dark":31>=o?"green":6>a?"yellow":12>a?"amber":1>=r?"orange":"red"}function l(e,t){var n=!0;if(t.endpoint===i.a.DEFAULT){var o="updated_at"===t.sort?e.updated:e.created,a=null===t.from?new Date(0):new Date(t.from),c=null===t.to?new Date:new Date(t.to);n=o>a&&o<c,t.query&&!function(e,t){return e=(e=e.map((function(e){return e.text})).join(" ")).normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLocaleUpperCase(),t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLocaleUpperCase(),e.includes(t)}(e.comments,t.query)&&(n=!1),t.user&&!["","anonymous",r.c("note.anonymous")].includes(t.user)&&(n=0===t.user.localeCompare(e.user))}return n&&(!!t.closed||"open"===e.status)&&(!document.getElementById("hide-anonymous").checked||!e.anonymous)&&(!["anonymous",r.c("note.anonymous")].includes(t.user)||e.anonymous)}function u(e){var t=e.substring(0,2);if(/^(.).*(?:\s|_)(.).*$/.test(e)){var n=/^(.).*(?:\s|_)(.).*$/.exec(e),o=a()(n,3),r=o[1],i=o[2];t="".concat(r).concat(i)}else if(/^(.).*[a-z]([A-Z]).*$/.test(e)){var c=/^(.).*[a-z]([A-Z]).*$/.exec(e),s=a()(c,3),l=s[1],u=s[2];t="".concat(l).concat(u)}return t.toUpperCase()}function d(e,t){t||(t=100);var n=a()(e,2),o=n[0],r=n[1];return{left:r-t/(c*Math.cos(o*Math.PI/180)),bottom:o-t/c,right:r+t/(c*Math.cos(o*Math.PI/180)),top:o+t/c}}function m(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function p(e,t){for(var n=[],o=0,a=e.length;o<a;o+=t)n.push(e.slice(o,o+t));return n}},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return y}));var o=n(18),a=n.n(o),r=n(0),i=n(1),c=n(23),s=n(11),l=n(94);function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){i=!0,e},f:function e(){try{r||null==n.return||n.return()}finally{if(i)throw e}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function m(e,t,n){var o="bottom";return n&&(o=i.c()===i.b?"right":"left"),'\n  <span class="label label-'.concat(e," my-1 c-default tooltip tooltip-").concat(o,'" data-tooltip="').concat(t.toLocaleString(),'">\n    <time-ago datetime="').concat(t,'" title="">\n      ').concat(t.toLocaleDateString(),"\n    </time-ago>\n  </span>")}function p(e){if(0<e){var t=1===e?r.c("note.comment"):r.c("note.comments",e);return'<span class="label label-primary my-1 comments-modal-trigger c-hand">'.concat(t,"</span>")}}function f(e){var t=l.a(a()(e).reverse());if(t){var n,o=[],r=u(t.properties.emojiFlag);try{for(r.s();!(n=r.n()).done;){var i=n.value;o.push(i.codePointAt(0).toString(16))}}catch(e){r.e(e)}finally{r.f()}var c="https://twemoji.maxcdn.com/v/latest/svg/".concat(o.join("-"),".svg");return'<span class="my-1">\n            <img class="icon" src="'.concat(c,'">\n          </span>')}}function g(e,t){if(t)return'<span class="label label-error my-1">'.concat(r.c("note.anonymous"),"</span>");var n=c.a.get(e),o=n.image?'<img src="'.concat(n.image,'">'):"",a=s.c(n.name);return'<figure class="avatar" data-initial="'.concat(a,'">').concat(o,'</figure>\n            <a href="').concat("https://www.openstreetmap.org","/user/").concat(n.name,'" target="_blank" rel="noopener">\n              <span class="tooltip tooltip-bottom" data-tooltip="').concat(r.c("user.created",n.created.toLocaleDateString()),'">\n                ').concat(n.name,"\n              </span>\n            </a>")}function h(e){return"opened"===e?'<span class="label label-success my-1">'.concat(r.c("note.action.opened"),"</span>"):"closed"===e?'<span class="label label-error my-1">'.concat(r.c("note.action.closed"),"</span>"):"reopened"===e?'<span class="label label-warning my-1">'.concat(r.c("note.action.reopened"),"</span>"):void 0}function y(e){return'<a href="'.concat("https://www.openstreetmap.org","/reports/new?reportable_type=Note&reportable_id=").concat(e,'" target="_blank" rel="noopener">\n            <span class="icon icon-flag float-right tooltip tooltip-bottom" data-tooltip="').concat(r.c("action.report"),'"></span>\n          </a>')}},173:function(e,t,n){var o={"./expert":[106,5],"./expert.js":[106,5],"./map":[107,6],"./map.js":[107,6],"./ui":[99,7],"./ui.js":[99,7]};function a(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(o)},a.id=173,e.exports=a},174:function(e,t,n){"use strict";n.r(t);var o=n(9),a=n.n(o),r=n(3),i=n.n(r),c=n(10),s=n.n(c),l=(n(113),n(114),n(124),n(126),n(128),n(141),n(148),n(56),n(5)),u=n.n(l),d=n(6),m=n.n(d),p=n(1),f=osmAuth({oauth_consumer_key:"JVmpxVyZ0ha7NtHasW3JhRyQ4spqJLKydTU46E76",oauth_secret:"8djZYfFcMkpUYXz84PwZDdwHoKAcaEgWqFLpVWf9",url:"https://www.openstreetmap.org",auto:!0,landing:p.c()===p.b?"landing.html":"../landing.html"}),g=function(){function e(){u()(this,e)}return m()(e,[{key:"login",value:function(){var e=this;return new Promise((function(t,n){f.authenticate((function(o){o?n(o):t(e.request("GET","user/details"))}))}))}},{key:"logout",value:function(){f.logout()}},{key:"authenticated",value:function(){return f.authenticated()}},{key:"comment",value:function(e,t,n){return this.authenticated()?t?(n||(n="comment"),this.request("POST","notes/".concat(e,"/").concat(n,".json?text=").concat(encodeURIComponent(t)))):Promise.reject(new Error("No text was given")):Promise.reject(new Error("User is not authenticated"))}},{key:"request",value:function(e,t){var n={method:e,path:"/api/0.6/".concat(t)};return new Promise((function(e,t){f.xhr(n,(function(n,o){n?t(n):e(o)}))}))}}]),e}(),h=n(12),y=n(41),v=n.n(y),b=n(34),w=n.n(b),k=n(35),E=n.n(k),L=n(17),x=n.n(L),I=function(){function e(){u()(this,e)}return m()(e,null,[{key:"init",value:function(){document.getElementsByClassName("modal-trigger").forEach((function(t){t.addEventListener("click",(function(){e.open(t.dataset.modal)}))})),document.getElementsByClassName("modal-close").forEach((function(t){t.addEventListener("click",(function(t){e.close(t.target.closest(".modal"))}))}))}},{key:"open",value:function(e){var t=document.querySelector('.modal[data-modal="'.concat(e,'"]'));t.classList.add("active"),t.getElementsByClassName("modal-body")[0].scrollTop=0}},{key:"close",value:function(e){e.classList.remove("active"),e.querySelectorAll(".clear-on-modal-close").forEach((function(e){return e.innerHTML=""}))}}]),e}(),B=n(97),S=n.n(B);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=x()(e);if(t){var a=x()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return E()(this,n)}}var A=function(e){function t(){return u()(this,t),n.apply(this,arguments)}w()(t,e);var n=j(t);return m()(t,null,[{key:"load",value:function(e){v()(x()(t),"open",this).call(this,"comments");var n=e.comments;n.forEach((function(e,t){n[t].badges={age:h.a(e.color,e.date),user:h.f(e.uid,e.anonymous),status:h.e(e.action)}})),document.getElementById("comments").innerHTML=S()({comments:n}),document.getElementById("comments").dataset.noteId=e.id,document.getElementById("note-link").href="".concat("https://www.openstreetmap.org","/note/").concat(e.id);var o=document.getElementById("note-comment");o.value="",o.dispatchEvent(new Event("input")),document.querySelector('.comment-action[data-action="comment"]').style.display="open"===e.status?"block":"none",document.querySelector('.comment-action[data-action="close"]').style.display="open"===e.status?"block":"none",document.querySelector('.comment-action[data-action="reopen"]').style.display="closed"===e.status?"block":"none"}}]),t}(I),C=n(29),T=n(0),_=n(2),O=n(98),N=n.n(O);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=x()(e);if(t){var a=x()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return E()(this,n)}}var D=function(e){function t(){return u()(this,t),n.apply(this,arguments)}w()(t,e);var n=M(t);return m()(t,null,[{key:"load",value:function(){var e=s()(i.a.mark((function e(n){var o,a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v()(x()(t),"open",this).call(this,"mapillary"),(o=document.getElementById("mapillary")).classList.add("loading","loading-lg"),a="".concat(n.coordinates[1],",").concat(n.coordinates[0]),r="https://www.mapillary.com/app/?lat=".concat(n.coordinates[0],"&lng=").concat(n.coordinates[1],"&z=17&focus=map"),document.getElementById("mapillary-link").href=r,e.next=8,_.e("https://a.mapillary.com/v3/images?closeto=".concat(a,"&radius=50&per_page=20&client_id=").concat("eUFYWUdRTmxZQVhRajkybHNRMnZoQTpiMTFjMDRlYmJmZGQ5ODNi"),_.a.JSON);case 8:c=(c=e.sent).features.map((function(e){return{key:e.properties.key,user:e.properties.username}})),o.innerHTML=N()({images:c,link:r,expert:p.c()===p.a}),T.b(document.getElementById("mapillary")),o.classList.remove("loading","loading-lg");case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(I),P=n(42);function q(){var e=new URL(window.location);e.hash="";var t=document.getElementById("sort").value.split("-"),n=a()(t,2),o=n[0],r=n[1],i=function(e){return Object.entries({limit:"100",closed:!1,sort:"created_at",order:"newest",anonymous:!0}).forEach((function(t){var n=a()(t,2),o=n[0],r=n[1];e[o]===r&&delete e[o]})),e}({query:document.getElementById("query").value,limit:document.getElementById("limit").value,closed:document.getElementById("show-closed").checked,user:document.getElementById("user").value,from:document.getElementById("from").value,to:document.getElementById("to").value,sort:o,order:r,anonymous:!document.getElementById("hide-anonymous").checked});if(p.c()===p.b&&document.getElementById("show-map").checked){var c=new C.a("map");i.map="".concat(c.zoom(),"/").concat(c.center().lat,"/").concat(c.center().lng)}e.search=_.d(i),document.getElementById("permalink").value=e.toString(),delete i.map,i=_.d(i),document.getElementById("link").href=p.c()===p.b?"./expert/?".concat(i):"../?".concat(i)}var R=n(7),F=n(24),U=n(33),z=n(23),J=n(11);n.p=p.c()===p.b?"dist/":"../dist/";var Z,H,$,W=new g;function Y(){return V.apply(this,arguments)}function V(){return(V=s()(i.a.mark((function e(){var t,n,o,r,c,s,l,u,d,m,p,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("query").value,n=document.getElementById("limit").value,o=document.getElementById("show-closed").checked,r=document.getElementById("user").value,c=document.getElementById("from").value,s=document.getElementById("to").value,l=document.getElementById("sort").value.split("-"),u=a()(l,2),d=u[0],m=u[1],1e4<n&&(n=1e4,document.getElementById("limit").value=1e4,K(T.c("description.autoLimit"),"toast-warning")),["anonymous",T.c("note.anonymous")].includes(r)?(r=null,document.getElementById("hide-anonymous").checked=!1,document.getElementById("hide-anonymous").setAttribute("disabled","true")):document.getElementById("hide-anonymous").removeAttribute("disabled"),document.getElementById("preloader").classList.remove("d-invisible"),document.getElementById("search").classList.add("d-hide"),document.getElementById("cancel").classList.remove("d-hide"),$=new F.b(t,n,o,r,c,s,d,m),(p=R.a.get("previous",!0))&&($.url=p.url,$.endpoint=p.endpoint,R.a.remove("previous",!0)),e.next=17,$.search();case 17:f=e.sent,H.show(Array.from(f),$).then(G).finally((function(){document.getElementById("preloader").classList.add("d-invisible"),document.getElementById("search").classList.remove("d-hide"),document.getElementById("cancel").classList.add("d-hide")}));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return Q.apply(this,arguments)}function Q(){return(Q=s()(i.a.mark((function e(t,n,o){var a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.getElementById("toast-container"),(r=document.createElement("div")).classList.add("toast",n||"toast-primary"),(c=document.createElement("button")).classList.add("btn","btn-clear","float-right"),c.addEventListener("click",(function(){document.getElementById("toast-container").removeChild(r)})),r.appendChild(c),r.appendChild(document.createTextNode(t)),a.appendChild(r),e.next=11,J.f(o||4e3);case 11:a.contains(r)&&a.removeChild(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){var e=document.getElementById("search"),t=document.getElementById("fast-search");4>Z.boundsSize()?(t.classList.remove("d-hide"),e.classList.remove("tooltip")):(t.classList.add("d-hide"),e.classList.add("tooltip"))}function G(e){0===e.amount?(K(T.c("description.nothingFound"),"toast-error"),document.getElementById("details").classList.add("d-hide")):document.getElementById("details").classList.remove("d-hide"),document.getElementById("found-notes").textContent=T.c("note.amount",e.amount),document.getElementById("average-date").innerHTML=T.c("note.average",h.a(J.e(e.average),e.average,!0))}function ee(){var e=new URL(window.location.href).searchParams;e.forEach((function(t,n){switch(n){case"map":if(p.c()===p.b){var o=t.split("/");Z.setView([o[1],o[2]],o[0])}break;case"query":document.getElementById("query").value=t;break;case"limit":document.getElementById("limit").value=t;break;case"user":document.getElementById("user").value=t;break;case"from":document.getElementById("from").value=t;break;case"to":document.getElementById("to").value=t;break;case"sort":document.getElementById("sort").value="".concat("updated_at"===t?"updated_at":"created_at","-").concat("oldest"===e.get("order")?"oldest":"newest");break;case"order":document.getElementById("sort").value="".concat("updated_at"===e.get("sort")?"updated_at":"created_at","-").concat("oldest"===t?"oldest":"newest");break;case"closed":document.getElementById("show-closed").checked=!("true"!==t);break;case"anonymous":document.getElementById("hide-anonymous").checked="true"!==t}}));var t=window.location.toString();0<t.indexOf("?")&&window.history.replaceState({},document.title,t.substring(0,t.indexOf("?")))}function te(){var e=R.a.get("editors"),t=R.a.get("tools");document.getElementById("editor-id").checked=e.id,document.getElementById("editor-josm").checked=e.josm,document.getElementById("editor-level0").checked=e.level0,document.getElementById("tool-openstreetmap").checked=t.openstreetmap,document.getElementById("tool-mapillary").checked=t.mapillary,document.body.dataset.editorId=e.id,document.body.dataset.editorJosm=e.josm,document.body.dataset.editorLevel0=e.level0,document.body.dataset.toolOpenstreetmap=t.openstreetmap,document.body.dataset.toolMapillary=t.mapillary;var n=R.a.get("theme");document.getElementById("theme-selection").value=n,U.c(n)}s()(i.a.mark((function e(){var t,o,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return-1===window.navigator.userAgent.indexOf("MSIE ")&&!window.navigator.userAgent.match(/Trident.*rv:11\./)&&window.Promise&&window.fetch||document.body.classList.add("deprecated-browser"),e.next=3,n.e(8).then(n.bind(null,186));case 3:return e.next=5,T.a();case 5:return I.init(),t=p.c()===p.b?"map":"expert",e.next=9,n(173)("./".concat(t));case 9:o=e.sent,a=o.default,H=new a,t===p.b&&(Z=new C.a("map",X)),r=W.authenticated(),document.body.dataset.authenticated=r,r?(document.getElementById("login").classList.add("d-hide"),document.getElementById("logout").classList.remove("d-hide"),z.a.avatar(R.a.get("uid"))):(document.getElementById("login").classList.remove("d-hide"),document.getElementById("logout").classList.add("d-hide")),document.querySelector('.modal-trigger[data-modal="share"]').addEventListener("click",(function(){return q()})),document.getElementById("search").addEventListener("click",(function(){return Y()})),document.getElementById("cancel").addEventListener("click",(function(){return _.c()})),document.getElementById("hide-anonymous").addEventListener("change",(function(){H.reload().then(G)})),document.getElementById("login").addEventListener("click",(function(){var e=document.getElementById("login");e.classList.add("loading"),W.login().then((function(t){e.classList.add("d-hide"),document.getElementById("logout").classList.remove("d-hide"),document.body.dataset.authenticated=!0;var n=t.getElementsByTagName("user")[0].getAttribute("id");R.a.set({uid:n}),z.a.avatar(n)})).catch((function(e){console.log(e),document.body.dataset.authenticated=!1})).finally((function(){e.classList.remove("loading")}))})),document.getElementById("logout").addEventListener("click",(function(){W.logout(),document.getElementById("logout").classList.add("d-hide"),document.getElementById("login").classList.remove("d-hide"),document.body.dataset.authenticated=!1})),document.getElementById("note-comment").addEventListener("input",(function(){""===document.getElementById("note-comment").value.trim()?document.getElementById("note-comment-actions").classList.add("d-hide"):document.getElementById("note-comment-actions").classList.remove("d-hide")})),document.getElementsByClassName("comment-action").forEach((function(e){e.addEventListener("click",(function(){e.classList.add("loading");var t=Number.parseInt(document.getElementById("comments").dataset.noteId),n=document.getElementById("note-comment").value.trim();W.comment(t,n,e.dataset.action).then((function(e){H.update(t,new P.a(JSON.parse(e))).then(G),A.load(H.get(t))})).catch((function(e){console.log(e)})).finally((function(){e.classList.remove("loading")}))}))})),document.getElementsByClassName("setting").forEach((function(e){e.addEventListener("change",(function(){R.a.set({theme:document.getElementById("theme-selection").value,editors:{id:document.getElementById("editor-id").checked,josm:document.getElementById("editor-josm").checked,level0:document.getElementById("editor-level0").checked},tools:{openstreetmap:document.getElementById("tool-openstreetmap").checked,mapillary:document.getElementById("tool-mapillary").checked}}),te()}))})),document.getElementsByClassName("update-link").forEach((function(e){e.addEventListener("change",(function(){return q()}))})),document.getElementById("permalink").addEventListener("click",document.getElementById("permalink").select),document.getElementById("permalink").addEventListener("dblclick",(function(){document.getElementById("permalink").select(),document.execCommand("copy"),K(T.c("action.copyLinkSuccess"),"toast-success")})),document.getElementById("permalink-copy").addEventListener("click",(function(){document.getElementById("permalink").select(),document.execCommand("copy"),K(T.c("action.copyLinkSuccess"),"toast-success")})),document.getElementById("link").addEventListener("click",(function(){R.a.set({previous:{url:$.url,endpoint:$.endpoint}},!0)})),document.addEventListener("keydown",(function(e){if(13===e.which){if(p.c()===p.b&&document.querySelector(".leaflet-control-geocoder-form input")===document.activeElement)return;if(_.f())return _.c();Y()}})),window.addEventListener("beforeunload",(function(){if(document.getElementById("remote").remove(),p.c()===p.b){var e=Z.center();R.a.set({map:{center:[e.lat,e.lng],zoom:Z.zoom()}})}})),document.addEventListener("click",(function(e){var t=e.target.closest(".comments-modal-trigger");if(t){var n=Number.parseInt(t.closest("[data-note-id]").dataset.noteId);A.load(H.get(n))}var o=e.target.closest(".link-tool-mapillary");if(o){var a=Number.parseInt(o.closest("[data-note-id]").dataset.noteId);D.load(H.get(a))}})),te(),ee(),q(),Y();case 21:case"end":return e.stop()}}),e)})))()},2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d}));var o=n(24),a=new AbortController,r=!1,i={JSON:"application/json",XML:"text/xml"};function c(e,t){var n=new URL("https://www.openstreetmap.org");n.pathname=e.endpoint===o.a.DEFAULT?"/api/0.6/notes.json":"/api/0.6/notes/search.json";var a={q:e.query,limit:e.limit,display_name:e.user,closed:e.closed?"-1":"0",from:e.from,to:e.to,sort:e.sort,order:e.order};return e.endpoint===o.a.DEFAULT&&(delete a.q,a.bbox=t),n.search=d(a,!0),n.toString()}function s(e,t){return r=!0,a=new AbortController,fetch(e,{signal:a.signal}).then((function(e){return t===i.JSON?e.json():e.text()})).then((function(e){return t===i.XML?(new DOMParser).parseFromString(e,"text/xml"):e})).catch((function(t){return console.log("Error while fetching file at ".concat(e,": ").concat(t))})).finally((function(){return r=!1}))}function l(){return r}function u(){a.abort()}function d(e,t){var n=[];for(var o in e)""===e[o]||t&&null===e[o]||n.push("".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(e[o])));return n.join("&")}},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n(3),a=n.n(o),r=n(10),i=n.n(r),c=n(5),s=n.n(c),l=n(6),u=n.n(l),d=n(2),m=n(11),p=function(){function e(){s()(this,e)}return u()(e,null,[{key:"load",value:(t=i()(a.a.mark((function t(n){var o,r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.all||(e.all=new Set),n=m.b(Array.from(n),500),o=0;case 3:if(!(o<n.length)){t.next=12;break}return r="".concat("https://www.openstreetmap.org","/api/0.6/users?users=").concat(n[o].join(",")),t.next=7,d.e(r,d.a.XML);case 7:(i=t.sent)&&i.documentElement&&i.documentElement.children.forEach((function(t){e.all.add({id:Number.parseInt(t.getAttribute("id")),name:t.getAttribute("display_name"),created:new Date(t.getAttribute("account_created")),description:t.getElementsByTagName("description")[0].innerText,image:t.querySelector("img[href]")?t.getElementsByTagName("img")[0].getAttribute("href"):null,changesets:t.getElementsByTagName("changesets")[0].getAttribute("count")})}));case 9:o++,t.next=3;break;case 12:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})},{key:"get",value:function(t){return t?Array.from(e.all).find((function(e){return e.id===t})):void 0}},{key:"avatar",value:function(){var t=i()(a.a.mark((function t(n){var o,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=document.getElementById("user-avatar"),n){t.next=4;break}return o.style.display="none",t.abrupt("return");case 4:return t.next=6,e.load(new Set([n]));case 6:(r=e.get(Number.parseInt(n)))&&(o.style.display="inline-block",o.dataset.initial=m.c(r.name),o.innerHTML=r.image?'<img src="'.concat(r.image,'">'):"");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),e;var t}()},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b}));var o=n(3),a=n.n(o),r=n(18),i=n.n(r),c=n(10),s=n.n(c),l=n(5),u=n.n(l),d=n(6),m=n.n(d),p=n(29),f=n(1),g=n(42),h=n(2),y=n(23),v={DEFAULT:"default",SEARCH:"search"},b=function(){function e(t,n,o,a,r,i,c,s){u()(this,e),this.query=t||null,this.limit=n||null,this.closed=o||!1,this.user=a||null,this.from=r||null,this.to=i||null,this.sort=c||null,this.order=s||null,this.endpoint=v.SEARCH,this.url=this.build(),this.to&&!this.from&&(this.from=new Date(0).toISOString().slice(0,10))}return m()(e,[{key:"search",value:function(){var e=s()(a.a.mark((function e(){var t,n,o,r,c,s,l=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new Set,n=new Set,"string"!=typeof(o=this.url)){e.next=9;break}return e.next=6,h.e(o,h.a.JSON);case 6:r=e.sent,e.next=20;break;case 9:if(!Array.isArray(o)){e.next=20;break}r={type:"FeatureCollection",features:[]},c=0;case 12:if(!(c<o.length)){e.next=20;break}return e.next=15,h.e(o[c],h.a.JSON);case 15:(s=e.sent)&&s.features&&(r.features=[].concat(i()(r.features),i()(s.features)));case 17:c++,e.next=12;break;case 20:if(r&&0!==r.features.length){e.next=22;break}return e.abrupt("return",t);case 22:return r.features.forEach((function(e){try{var o=new g.a(e);t.add(o),n=new Set([].concat(i()(n),i()(o.users)))}catch(e){console.error(e)}})),this.endpoint===v.DEFAULT&&((t=Array.from(t)).sort((function(e,t){var n="updated_at"===l.sort?e.updated:e.created,o="updated_at"===l.sort?t.updated:t.created;return"newest"===l.order?n<o:n>o})),t=t.slice(0,this.limit)),e.next=26,y.a.load(n);case 26:return e.abrupt("return",t);case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"build",value:function(){var e,t=this;if(f.c()===f.b){var n=new p.a("map"),o=n.boundsSize();if(.25>o)this.endpoint=v.DEFAULT,e=h.b(this,n.bounds().toBBoxString());else if(.25<=o&&1>=o){this.endpoint=v.DEFAULT,e=[],n.splitBounds(n.bounds(),1).forEach((function(n){e.push(h.b(t,n.toBBoxString()))}))}else if(1<=o&&4>=o){this.endpoint=v.DEFAULT,e=[],n.splitBounds(n.bounds(),2).forEach((function(n){e.push(h.b(t,n.toBBoxString()))}))}else this.endpoint=v.SEARCH,e=h.b(this)}else this.endpoint=v.SEARCH,e=h.b(this);return e}}]),e}()},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o,a=n(18),r=n.n(a),i=n(5),c=n.n(i),s=n(6),l=n.n(s),u=n(0),d=n(7),m=n(33),p={},f={center:d.a.get("map").center,zoom:{min:2,max:18,current:d.a.get("map").zoom}},g=function(){function e(t,n){var o=this;c()(this,e),p[t]?this.map=p[t]:(this.map=L.map(t,{center:f.center,minZoom:f.zoom.min,maxZoom:f.zoom.max,zoom:f.zoom.current,maxBounds:L.latLngBounds(L.latLng(-90,-180),L.latLng(90,180))}),p[t]=this.map,this.map.on("popupopen",(function(e){e.popup._container.querySelectorAll("img").forEach((function(t){return t.onload=function(){return e.popup.update()}}))})),L.Control.geocoder&&L.Control.geocoder({placeholder:u.c("action.search"),errorMessage:u.c("description.nothingFound")}).addTo(this.map),this.tiles(),document.addEventListener("color-scheme-changed",(function(){return o.tiles()}))),n&&this.map.on("move",n)}return l()(e,[{key:"tiles",value:function(){o&&this.map.removeLayer(o);var e=m.b()===m.a?"dark_all":"light_all",t=L.Browser.retina?"@2x.png":".png";o=L.tileLayer("https://cartodb-basemaps-{s}.global.ssl.fastly.net/".concat(e,"/{z}/{x}/{y}").concat(t),{maxZoom:f.maxZoom,subdomains:"abcd",attribution:u.c("map.attribution")}),this.map.addLayer(o)}},{key:"addLayer",value:function(e){this.map.addLayer(e)}},{key:"removeLayers",value:function(){var e=this;this.map.eachLayer((function(t){t!==o&&e.map.removeLayer(t)}))}},{key:"marker",value:function(e){L.marker(e).addTo(this.map)}},{key:"bounds",value:function(){return this.map.getBounds()}},{key:"boundsSize",value:function(){var e=this.bounds();return(e.getNorth()-e.getSouth())*(e.getEast()-e.getWest())}},{key:"splitBounds",value:function(e,t){Array.isArray(e)||(e=[e]);for(var n,o=0;o<t;o++){n=[];for(var a=0;a<e.length;a++){var i=[],c=e[a],s=(c.getWest()+c.getEast())/2,l=(c.getSouth()+c.getNorth())/2;0<s-180?s-=360:0>s+180&&(s+=360),i.push(L.latLngBounds(L.latLng(c.getSouth(),c.getWest()),L.latLng(l,s))),i.push(L.latLngBounds(L.latLng(c.getSouth(),s),L.latLng(l,c.getEast()))),i.push(L.latLngBounds(L.latLng(l,s),L.latLng(c.getNorth(),c.getEast()))),i.push(L.latLngBounds(L.latLng(l,c.getWest()),L.latLng(c.getNorth(),s))),n=[].concat(r()(n),i)}e=n}return e}},{key:"center",value:function(){return L.latLng(this.map.getCenter().lat.toFixed(4),this.map.getCenter().lng.toFixed(4))}},{key:"zoom",value:function(){return this.map.getZoom().toFixed(0)}},{key:"setView",value:function(e,t){this.map.setView(e,t)}},{key:"flyToBounds",value:function(e,t){this.map.flyToBounds(e,{duration:t,maxZoom:f.maxZoom})}}]),e}()},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var o=n(7),a="dark",r=o.a.get("theme")||"system",i=window.matchMedia("(prefers-color-scheme: dark)");function c(e){e===r||(r=e,l(),"system"===r?i.addListener(l):i.removeListener(l))}function s(){return"light"===r?"light":r===a||"system"===r&&i.matches?a:"light"}function l(){document.body.dataset.theme=s(),document.dispatchEvent(new Event("color-scheme-changed"))}document.body.dataset.theme=s()},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n(9),a=n.n(o),r=n(5),i=n.n(r),c=n(6),s=n.n(c),l=n(12),u=n(93),d=new(n.n(u).a),m={imgur:/(http(s)?:\/\/)?i\.imgur\.com\/\w+\.(jpg|png)/i,framapic:/(http(s)?:\/\/)?(www\.)?framapic\.org\/(random\?i=)?\w+\/\w+(\.(jpg|jpeg|png))?/i,westnordost:/https:\/\/westnordost\.de\/p\/[0-9]+\.jpg/i,wikimedia:/http(?:s)?:\/\/upload\.wikimedia\.org\/wikipedia\/(.+?)\/(?:thumb\/)?(\w\/\w\w)\/(.+?\.(?:jpg|jpeg|png))(?:\/.+?\.(?:jpg|jpeg|png))?/i,commons:/http(?:s)?:\/\/commons\.wikimedia\.org\/wiki\/File:(.+?\.(?:jpg|jpeg|png|svg))/i},p={wikimedia:"https://upload.wikimedia.org/wikipedia/$1/thumb/$2/$3/300px-$3",commons:"https://commons.wikimedia.org/wiki/Special:FilePath/$1?width=300"};function f(e){var t=d.match(e)||[],n=[],o=[],r=0;return t.forEach((function(t){var i=function(e){var t=!1,n=null;return Object.entries(m).forEach((function(o){var r=a()(o,2),i=r[0],c=r[1],s=p[i];c.test(e)&&(t=!0,s&&(n=e.replace(new RegExp(c.source,"gi"),s)))})),{image:t,formatted:n}}(t.url),c=i.image,s=i.formatted;if(s&&(t.url=s),r<t.index){var l=g(e.slice(r,t.index)),u=t.index-1===r;l=l.replace(/\r?\n/g,u?"":"<br>"),u||!c||l.endsWith("<br>")||(l+="<br>"),n.push(l)}var d=decodeURI(t.text);c&&(o.push(t.url),d='<img class="img-responsive img-preview p-1" src="'.concat(g(t.url),'" alt="').concat(d,'">')),n.push('<a href="'.concat(g(t.url),'" target="_blank" rel="noopener noreferrer">').concat(d,"</a>")),r=t.lastIndex})),r<e.length&&n.push(g(e.slice(r)).replace(/\r?\n/g,"<br>")),{images:o,html:n.join("")}}function g(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var h=n(0),y=n(11),v=[/(?:https?:\/\/)?(?:www\.)?(?:osm|openstreetmap)\.org\/(node|way|relation)\/([0-9]+)/,/(node|way|relation)\/([0-9]+)/,/(node|way|relation)(?:\\s)?#([0-9]+)/,/(n|w|r)\/([0-9]+)/],b=function(){function e(t){if(i()(this,e),0===t.properties.comments.length)throw new Error("Note ".concat(t.properties.id," can not be parsed because there are no comments."));this.id=t.properties.id,this.status=t.properties.status,this.coordinates=t.geometry.coordinates.reverse(),this.comments=this.parseComments(t.properties.comments),this.users=this.comments.filter((function(e){return null!==e.uid})).map((function(e){return e.uid})),this.anonymous=this.comments[0].anonymous,this.user=this.comments[0].user,this.created=new Date(t.properties.date_created.replace(/-/g,"/")),this.updated=this.comments[this.comments.length-1].date,this.color=y.e(this.created)}return s()(e,[{key:"parseComments",value:function(e){for(var t,n=[],o=e.length-1;0<=o;o--){(t=e[o]).anonymous=!t.user,t.anonymous&&(t.user=h.c("note.anonymous"),t.uid=null),t.date=new Date(t.date.replace(/-/g,"/")),t.color=y.e(t.date);var a=f(t.text);t.html=a.html,t.images=a.images,n.includes(t.text)?e.splice(o,1):""!==t.text&&n.push(t.text)}return e}},{key:"actions",get:function(){var e,t=this,n=y.a(this.coordinates),o={osm:{class:"link-osm",link:"".concat("https://www.openstreetmap.org","/note/").concat(this.id),icon:"icon-external",text:h.c("action.openstreetmap")},iD:{class:"link-editor-id",link:"".concat("https://www.openstreetmap.org","/edit?editor=id#map=19/").concat(this.coordinates.join("/")),icon:"icon-external",text:h.c("action.edit.id")},josm:{class:"link-editor-josm",link:"http://127.0.0.1:8111/load_and_zoom?left=".concat(n.left,"&bottom=").concat(n.bottom,"&right=").concat(n.right,"&top=").concat(n.top),icon:"icon-external",text:h.c("action.edit.josm"),remote:!0},level0:{class:"link-editor-level0",link:"http://level0.osmz.ru/?center=".concat(this.coordinates.join()),icon:"icon-external",text:h.c("action.edit.level0")},mapillary:{class:"link-tool-mapillary",icon:"icon-mapillary",text:h.c("action.mapillary")},comment:{class:"comments-modal-trigger requires-authentication",icon:"icon-pencil",text:h.c("action.comment")}};return 1<this.comments.length&&delete o.comment,v.forEach((function(n){if(!e&&((e=t.comments[0].html.match(n))&&1<e.length)){var r=e,i=a()(r,3),c=i[1],s=i[2];"n"===c?c="node":"w"===c?c="way":"r"===c&&(c="relation"),o.iD.link="".concat("https://www.openstreetmap.org","/edit?editor=id&").concat(c,"=").concat(s),o.josm.link+="&select=".concat(c).concat(s),o.level0.link="http://level0.osmz.ru/?url=".concat(c,"/").concat(s,"&center=").concat(t.coordinates.join())}})),Object.values(o)}},{key:"badges",get:function(){return{age:l.a(this.color,this.created),comments:l.b(this.comments.length-1),country:l.c(this.coordinates),user:l.f(this.comments[0].uid,this.anonymous),report:l.d(this.id)}}}]),e}()},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(5),a=n.n(o),r=n(6),i=n.n(r),c=/^({|\[)[\s\S]*(}|\])$/m,s={map:{center:[0,0],zoom:2},theme:"system",tools:{openstreetmap:!0,mapillary:!1},editors:{id:!0,josm:!1,level0:!0}},l=function(){function e(){a()(this,e)}return i()(e,null,[{key:"get",value:function(e,t){var n=(t?window.sessionStorage:window.localStorage).getItem(e);return c.test(n)&&(n=JSON.parse(n)),n||s[e]}},{key:"set",value:function(e,t){var n=t?window.sessionStorage:window.localStorage;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=e[o];if(Array.isArray(a))n.setItem(o,JSON.stringify(a));else if("object"==typeof a){var r=n.getItem(o);r=c.test(r)?JSON.parse(r):{},n.setItem(o,JSON.stringify(Object.assign(r,a)))}else n.setItem(o,a)}}},{key:"remove",value:function(e,t){(t?window.sessionStorage:window.localStorage).removeItem(e)}},{key:"reset",value:function(){window.sessionStorage.clear(),window.localStorage.clear(),e.set(s)}}]),e}()},92:function(e,t,n){var o={"./de":[101,0],"./de.json":[101,0],"./en":[102,1],"./en.json":[102,1],"./es":[103,2],"./es.json":[103,2],"./fr":[104,3],"./fr.json":[104,3],"./it":[105,4],"./it.json":[105,4]};function a(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,3)}))}a.keys=function(){return Object.keys(o)},a.id=92,e.exports=a},97:function(e,t,n){var o=n(53);e.exports=function(){var e=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.s(o.f("comments",e,t,1),e,t,0,13,233,"{{ }}")&&(o.rs(e,t,(function(e,t,n){n.b(' <div class="tile"><div class="tile-content"><div class="tile-title"> '),n.b(n.t(n.d("badges.user",e,t,0))),n.b(" "),n.b(n.t(n.d("badges.age",e,t,0))),n.b(" "),n.b(n.t(n.d("badges.status",e,t,0))),n.b('</div><p class="tile-subtitle text-break">'),n.b(n.t(n.f("html",e,t,0))),n.b('</p></div></div><div class="divider"></div> ')})),e.pop()),o.fl()},partials:{},subs:{}},'{{#comments}} <div class="tile"><div class="tile-content"><div class="tile-title"> {{{badges.user}}} {{{badges.age}}} {{{badges.status}}}</div><p class="tile-subtitle text-break">{{{html}}}</p></div></div><div class="divider"></div> {{/comments}}',o);return e.render.apply(e,arguments)}},98:function(e,t,n){var o=n(53);e.exports=function(){var e=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.s(o.d("images.length",e,t,1),e,t,0,18,708,"{{ }}")&&(o.rs(e,t,(function(e,t,n){n.b(" "),n.s(n.f("images",e,t,1),e,t,0,30,696,"{{ }}")&&(n.rs(e,t,(function(e,t,n){n.b(' <div class="column col-4 col-md-6 my-1"><div class="mapillary-image p-relative"><img src="https://images.mapillary.com/'),n.b(n.v(n.f("key",e,t,0))),n.b('/thumb-320.jpg" class="img-responsive" width="320" height="240"> <a class="mapillary-image-link p-absolute px-2" href="https://www.mapillary.com/app/?pKey='),n.b(n.v(n.f("key",e,t,0))),n.b('" target="_blank" rel="noopener"><img src="'),n.s(n.f("expert",e,t,1),e,t,0,373,376,"{{ }}")&&(n.rs(e,t,(function(e,t,n){n.b("../")})),e.pop()),n.b('assets/logos/mapillary.svg"></a><p class="mapillary-image-user p-absolute px-2 bg-dark">@'),n.b(n.v(n.f("user",e,t,0))),n.b(' <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"><abbr title="Creative Commons Attribution-ShareAlike 4.0 International License">(CC BY-SA 4.0)</abbr></a></p></div></div> ')})),e.pop()),n.b(" ")})),e.pop()),o.b(" "),o.s(o.d("images.length",e,t,1),e,t,1,0,0,"")||(o.b(' <div class="empty col-12"><div class="empty-icon"></div><p class="empty-title h5" data-i18n="mapillary.empty.title">There are no photos of this place yet</p><p class="empty-subtitle" data-i18n="mapillary.empty.subtitle">You can help other mappers by uploading street-level imagery to Mapillary.</p><div class="empty-action"><a class="btn btn-primary" href="'),o.b(o.v(o.f("link",e,t,0))),o.b('" target="_blank" rel="noopener"><span class="icon icon-mapillary"></span> <span data-i18n="mapillary.empty.add">Add photos of this place</span></a></div></div> ')),o.fl()},partials:{},subs:{}},'{{#images.length}} {{#images}} <div class="column col-4 col-md-6 my-1"><div class="mapillary-image p-relative"><img src="https://images.mapillary.com/{{key}}/thumb-320.jpg" class="img-responsive" width="320" height="240"> <a class="mapillary-image-link p-absolute px-2" href="https://www.mapillary.com/app/?pKey={{key}}" target="_blank" rel="noopener"><img src="{{#expert}}../{{/expert}}assets/logos/mapillary.svg"></a><p class="mapillary-image-user p-absolute px-2 bg-dark">@{{user}} <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"><abbr title="Creative Commons Attribution-ShareAlike 4.0 International License">(CC BY-SA 4.0)</abbr></a></p></div></div> {{/images}} {{/images.length}} {{^images.length}} <div class="empty col-12"><div class="empty-icon"></div><p class="empty-title h5" data-i18n="mapillary.empty.title">There are no photos of this place yet</p><p class="empty-subtitle" data-i18n="mapillary.empty.subtitle">You can help other mappers by uploading street-level imagery to Mapillary.</p><div class="empty-action"><a class="btn btn-primary" href="{{link}}" target="_blank" rel="noopener"><span class="icon icon-mapillary"></span> <span data-i18n="mapillary.empty.add">Add photos of this place</span></a></div></div> {{/images.length}}',o);return e.render.apply(e,arguments)}}});