!function(e){function t(t){for(var a,i,c=t[0],s=t[1],l=t[2],d=0,m=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(u&&u(t);m.length;)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={8:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=o[e]=[t,a]}));t.push(n[2]=a);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(e){return i.p+"js/"+({0:"locales/de",1:"locales/en",2:"locales/es",3:"locales/it",4:"ui/expert",5:"ui/map",6:"ui/ui",7:"@github/time-elements",9:"relative-time-format/de",10:"relative-time-format/en",11:"relative-time-format/es",12:"relative-time-format/it",14:"vendors~relative-time-format"}[e]||e)+".min.js"}(e);var s=new Error;r=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",s.name="ChunkLoadError",s.type=a,s.request=r,n[1](s)}o[e]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:c})}),12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="dist/",i.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;r.push([104,13]),n()}({0:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return y}));var a=n(1),o=n.n(a),r=n(12),i=n.n(r),c="data-i18n",s="i18n",l=navigator.language.split("-")[0]||navigator.userLanguage.split("-")[0],u="en",d={main:null,fallback:null};function m(e){return e=(e=e.replace(/^[A-Z]/,(function(e){return e.toLowerCase()}))).replace(/[A-Z]/,(function(e){return"-".concat(e.toLowerCase())}))}function p(e,t,n){if(n){var a="!HTML!"===n.substring(0,6);a&&(n=n.replace(/^!HTML!(\s+)?/,"")),t?e.setAttribute(t,n):""!==n&&(a?e.innerHTML=n:e.textContent=n)}}function g(e,t){var n=null===d.main?null:h(e,d.main);return n&&"string"==typeof n||(n=h(e,d.fallback)),n&&"string"==typeof n?void 0!==t&&"string"==typeof n?n.replace("%s",t):"string"==typeof n?n.replace("{{version}}","1.3.0"):n:console.error(new Error("String with the tag ".concat(e,' could not be found in "').concat(l,'.json" and "').concat(u,'.json"')))}function h(e,t){for(var n=e.split("."),a=t,o=0;o<n.length;o++)void 0!==a[n[o]]&&(a=a[n[o]]);return a}function f(e){e.querySelectorAll("[".concat(c,"]")).forEach((function(e){!function(e,t){""!==t&&p(e,null,g(t));for(var n=0,a=Object.entries(e.dataset);n<a.length;n++){var o=i()(a[n],2),r=o[0],c=o[1];if(r.substring(0,s.length)===s&&r!==s)p(e,m(r.slice(s.length)),g(c))}}(e,e.dataset[s])}))}function y(){var e,t,a,r,i,c,s;return o.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,o.a.awrap(n(88)("./".concat(l)));case 3:e=m.sent,t=e.default,d.main=t,m.next=11;break;case 8:m.prev=8,m.t0=m.catch(0),console.error(new Error("".concat(l,".json does not exist, ").concat(u,".json is used instead")));case 11:return m.next=13,o.a.awrap(n(88)("./".concat(u)));case 13:if(a=m.sent,r=a.default,d.fallback=r,f(document.body),document.querySelector("html").setAttribute("lang",l),"Intl"in window){m.next=49;break}if(window.Intl={},"RelativeTimeFormat"in window.Intl){m.next=49;break}m.t1=l,m.next="de"===m.t1?24:"en"===m.t1?28:"es"===m.t1?32:"it"===m.t1?36:40;break;case 24:return m.next=26,o.a.awrap(n.e(9).then(n.t.bind(null,171,3)));case 26:return i=m.sent,m.abrupt("break",43);case 28:return m.next=30,o.a.awrap(n.e(10).then(n.t.bind(null,97,3)));case 30:return i=m.sent,m.abrupt("break",43);case 32:return m.next=34,o.a.awrap(n.e(11).then(n.t.bind(null,172,3)));case 34:return i=m.sent,m.abrupt("break",43);case 36:return m.next=38,o.a.awrap(n.e(12).then(n.t.bind(null,173,3)));case 38:return i=m.sent,m.abrupt("break",43);case 40:return m.next=42,o.a.awrap(n.e(10).then(n.t.bind(null,97,3)));case 42:i=m.sent;case 43:return m.next=45,o.a.awrap(n.e(14).then(n.bind(null,174)));case 45:c=m.sent,(s=c.default).addLocale(i.default),window.Intl.RelativeTimeFormat=s;case 49:return m.abrupt("return",Promise.resolve());case 50:case"end":return m.stop()}}),null,null,[[0,8]])}},10:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return h}));var a=n(31),o=n.n(a),r=n(0),i=n(2),c=n(21),s=n(9),l=n(90);function u(e,t,n){var a="bottom";return n&&(a=i.c()===i.b?"right":"left"),'\n  <span class="label label-'.concat(e," my-1 c-default tooltip tooltip-").concat(a,'" data-tooltip="').concat(t.toLocaleString(),'">\n    <time-ago datetime="').concat(t,'" title="">\n      ').concat(t.toLocaleDateString(),"\n    </time-ago>\n  </span>")}function d(e){if(0<e){var t=1===e?r.c("note.comment"):r.c("note.comments",e);return'<span class="label label-primary my-1 comments-modal-trigger c-hand">'.concat(t,"</span>")}}function m(e){var t=l.a(o()(e).reverse());if(t){var n=[],a=!0,r=!1,i=void 0;try{for(var c,s,u=t.properties.emojiFlag[Symbol.iterator]();!(a=(c=u.next()).done);a=!0)s=c.value,n.push(s.codePointAt(0).toString(16))}catch(e){r=!0,i=e}finally{try{a||null==u.return||u.return()}finally{if(r)throw i}}var d="https://twemoji.maxcdn.com/v/latest/svg/".concat(n.join("-"),".svg");return'<span class="my-1">\n            <img class="icon" src="'.concat(d,'">\n          </span>')}}function p(e,t){if(t)return'<span class="label label-error my-1">'.concat(r.c("note.anonymous"),"</span>");var n=c.a.get(e),a=n.image?'<img src="'.concat(n.image,'">'):"",o=s.c(n.name);return'<figure class="avatar" data-initial="'.concat(o,'">').concat(a,'</figure>\n            <a href="').concat("https://www.openstreetmap.org","/user/").concat(n.name,'" target="_blank" rel="noopener">\n              <span class="tooltip tooltip-bottom" data-tooltip="').concat(r.c("user.created",n.created.toLocaleDateString()),'">\n                ').concat(n.name,"\n              </span>\n            </a>")}function g(e){return"opened"===e.action?'<span class="label label-success my-1">'.concat(r.c("note.action.opened"),"</span>"):"closed"===e.action?'<span class="label label-error my-1">'.concat(r.c("note.action.closed"),"</span>"):"reopened"===e.action?'<span class="label label-warning my-1">'.concat(r.c("note.action.reopened"),"</span>"):void 0}function h(e){return'<a href="'.concat("https://www.openstreetmap.org","/reports/new?reportable_type=Note&reportable_id=").concat(e,'" target="_blank" rel="noopener">\n            <span class="icon icon-flag float-right tooltip tooltip-bottom" data-tooltip="').concat(r.c("action.report"),'"></span>\n          </a>')}},104:function(e,t,n){n(105),e.exports=n(170)},105:function(e,t,n){},169:function(e,t,n){var a={"./expert":[102,4],"./expert.js":[102,4],"./map":[103,5],"./map.js":[103,5],"./ui":[95,6],"./ui.js":[95,6]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(a)},o.id=169,e.exports=o},170:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=(n(106),n(107),n(117),n(119),n(121),n(134),n(141),n(53),n(6)),i=n.n(r),c=n(7),s=n.n(c),l=n(2),u=osmAuth({oauth_consumer_key:"JVmpxVyZ0ha7NtHasW3JhRyQ4spqJLKydTU46E76",oauth_secret:"8djZYfFcMkpUYXz84PwZDdwHoKAcaEgWqFLpVWf9",url:"https://www.openstreetmap.org",auto:!0,landing:l.c()===l.b?"landing.html":"../landing.html"}),d=function(){function e(){i()(this,e)}return s()(e,[{key:"login",value:function(){var e=this;return new Promise((function(t,n){u.authenticate((function(a){a?n(a):t(e.request("GET","user/details"))}))}))}},{key:"logout",value:function(){u.logout()}},{key:"authenticated",value:function(){return u.authenticated()}},{key:"comment",value:function(e,t,n){return this.authenticated()?t?(n||(n="comment"),this.request("POST","notes/".concat(e,"/").concat(n,".json?text=").concat(encodeURIComponent(t)))):Promise.reject(new Error("No text was given")):Promise.reject(new Error("User is not authenticated"))}},{key:"request",value:function(e,t){var n={method:e,path:"/api/0.6/".concat(t)};return new Promise((function(e,t){u.xhr(n,(function(n,a){n?t(n):e(a)}))}))}}]),e}(),m=n(10),p=n(33),g=n.n(p),h=n(20),f=n.n(h),y=n(40),v=n.n(y),b=n(34),w=n.n(b),E=function(){function e(){i()(this,e)}return s()(e,null,[{key:"init",value:function(){document.getElementsByClassName("modal-trigger").forEach((function(t){t.addEventListener("click",(function(){e.open(t.dataset.modal)}))})),document.getElementsByClassName("modal-close").forEach((function(t){t.addEventListener("click",(function(t){e.close(t.target.closest(".modal"))}))}))}},{key:"open",value:function(e){var t=document.querySelector('.modal[data-modal="'.concat(e,'"]'));t.classList.add("active"),t.getElementsByClassName("modal-body")[0].scrollTop=0}},{key:"close",value:function(e){e.classList.remove("active"),e.querySelectorAll(".clear-on-modal-close").forEach((function(e){return e.innerHTML=""}))}}]),e}(),k=n(93),L=n.n(k),x=function(e){function t(){return i()(this,t),g()(this,f()(t).apply(this,arguments))}return w()(t,e),s()(t,null,[{key:"load",value:function(e){v()(f()(t),"open",this).call(this,"comments");for(var n=e.comments,a=0;a<n.length;a++)n[a].badges={age:m.a(n[a].color,n[a].date),user:m.f(n[a].uid,n[a].anonymous),status:m.e(n[a])};document.getElementById("comments").innerHTML=L()({comments:n}),document.getElementById("comments").dataset.noteId=e.id,document.getElementById("note-link").href="".concat("https://www.openstreetmap.org","/note/").concat(e.id);var o=document.getElementById("note-comment");o.value="",o.dispatchEvent(new Event("input")),o.focus(),document.querySelector('.comment-action[data-action="comment"]').style.display="open"===e.status?"block":"none",document.querySelector('.comment-action[data-action="close"]').style.display="open"===e.status?"block":"none",document.querySelector('.comment-action[data-action="reopen"]').style.display="closed"===e.status?"block":"none"}}]),t}(E),B=n(26),I=n(0),S=n(3),j=n(94),A=n.n(j),T=function(e){function t(){return i()(this,t),g()(this,f()(t).apply(this,arguments))}return w()(t,e),s()(t,null,[{key:"load",value:function(e){var n,a,r,i;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return v()(f()(t),"open",this).call(this,"mapillary"),(n=document.getElementById("mapillary")).classList.add("loading","loading-lg"),a="".concat(e.coordinates[1],",").concat(e.coordinates[0]),r="https://www.mapillary.com/app/?lat=".concat(e.coordinates[0],"&lng=").concat(e.coordinates[1],"&z=17&focus=map"),document.getElementById("mapillary-link").href=r,c.next=8,o.a.awrap(S.e("https://a.mapillary.com/v3/images?closeto=".concat(a,"&radius=50&per_page=20&client_id=").concat("eUFYWUdRTmxZQVhRajkybHNRMnZoQTpiMTFjMDRlYmJmZGQ5ODNi"),S.a.JSON));case 8:i=(i=c.sent).features.map((function(e){return{key:e.properties.key,user:e.properties.username}})),n.innerHTML=A()({images:i,link:r,expert:l.c()===l.a}),I.b(document.getElementById("mapillary")),n.classList.remove("loading","loading-lg");case 13:case"end":return c.stop()}}),null,this)}}]),t}(E),C=n(41);function O(){var e=new URL(window.location);e.hash="";var t=document.getElementById("query").value,n=document.getElementById("limit").value,a=document.getElementById("show-closed").checked,o=document.getElementById("user").value,r=document.getElementById("from").value,i=document.getElementById("to").value,c=document.getElementById("hide-anonymous").checked,s={query:t,limit:n,user:o,from:r,to:i};if(a&&(s.closed=!0),c&&(s.anonymous=!1),l.c()===l.b){var u=new B.a("map"),d=document.getElementById("show-map").checked,m="".concat(u.zoom(),"/").concat(u.center().lat,"/").concat(u.center().lng);d&&m&&(s.map=m)}e.search=S.d(s),delete s.map,s=S.d(s),document.getElementById("link").href=l.c()===l.b?"./expert/?".concat(s):"../?".concat(s),document.getElementById("permalink").value=e.toString()}var N=n(4),M=n(22),_=n(32),D=n(21),q=n(9);n.p=l.c()===l.b?"dist/":"../dist/";var P,U,F,Z,z,R,J,H,V,W,Y,$=new d;function K(){var e,t,n,a,r,i,c,s;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=document.getElementById("query").value,t=document.getElementById("limit").value,n=document.getElementById("show-closed").checked,a=document.getElementById("user").value,r=document.getElementById("from").value,i=document.getElementById("to").value,1e4<t&&(t=1e4,document.getElementById("limit").value=1e4,Q(I.c("description.autoLimit"),"toast-warning")),["anonymous",I.c("note.anonymous")].includes(a)?(a=null,document.getElementById("hide-anonymous").checked=!1,document.getElementById("hide-anonymous").setAttribute("disabled","true")):document.getElementById("hide-anonymous").removeAttribute("disabled"),document.getElementById("preloader").classList.remove("d-hide"),document.getElementById("search").classList.add("d-hide"),document.getElementById("cancel").classList.remove("d-hide"),F=new M.b(e,t,n,a,r,i),(c=N.a.get("previous",!0))&&(F.url=c.url,F.api=c.api,N.a.remove("previous",!0)),l.next=16,o.a.awrap(F.search());case 16:s=l.sent,U.show(Array.from(s),F).then(G).finally((function(){document.getElementById("preloader").classList.add("d-hide"),document.getElementById("search").classList.remove("d-hide"),document.getElementById("cancel").classList.add("d-hide")}));case 18:case"end":return l.stop()}}))}function Q(e,t,n){var a,r,i;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=document.getElementById("toast-container"),(r=document.createElement("div")).classList.add("toast",t||"toast-primary"),(i=document.createElement("button")).classList.add("btn","btn-clear","float-right"),i.addEventListener("click",(function(){document.getElementById("toast-container").removeChild(r)})),r.appendChild(i),r.appendChild(document.createTextNode(e)),a.appendChild(r),c.next=11,o.a.awrap(q.f(n||4e3));case 11:a.contains(r)&&a.removeChild(r);case 12:case"end":return c.stop()}}))}function X(){var e=document.getElementById("search"),t=document.getElementById("fast-search");4>P.boundsSize()?(t.classList.remove("d-hide"),e.classList.remove("tooltip")):(t.classList.add("d-hide"),e.classList.add("tooltip"))}function G(e){e&&(0===e.amount?(Q(I.c("description.nothingFound"),"toast-error"),document.getElementById("found-notes").textContent=""):e.amount&&(document.getElementById("found-notes").textContent=I.c("note.amount",e.amount)),e.average&&(document.getElementById("average-date").innerHTML=I.c("note.average",m.a(q.e(e.average),e.average,!0))))}function ee(){new URL(window.location.href).searchParams.forEach((function(e,t){switch(t){case"map":if(l.c()===l.b){var n=e.split("/");P.setView([n[1],n[2]],n[0])}break;case"query":document.getElementById("query").value=e;break;case"limit":document.getElementById("limit").value=e;break;case"user":document.getElementById("user").value=e;break;case"from":document.getElementById("from").value=e;break;case"to":document.getElementById("to").value=e;break;case"closed":document.getElementById("show-closed").checked=!("true"!==e);break;case"anonymous":document.getElementById("hide-anonymous").checked="true"!==e}}));var e=window.location.toString();0<e.indexOf("?")&&window.history.replaceState({},document.title,e.substring(0,e.indexOf("?"))),O()}function te(){var e=N.a.get("editors"),t=N.a.get("tools");document.getElementById("editor-id").checked=e.id,document.getElementById("editor-josm").checked=e.josm,document.getElementById("editor-level0").checked=e.level0,document.getElementById("tool-openstreetmap").checked=t.openstreetmap,document.getElementById("tool-mapillary").checked=t.mapillary,document.body.dataset.editorId=e.id,document.body.dataset.editorJosm=e.josm,document.body.dataset.editorLevel0=e.level0,document.body.dataset.toolOpenstreetmap=t.openstreetmap,document.body.dataset.toolMapillary=t.mapillary;var n=N.a.get("theme");document.getElementById("theme-selection").value=n,_.c(n)}o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return-1===window.navigator.userAgent.indexOf("MSIE ")&&!window.navigator.userAgent.match(/Trident.*rv:11\./)&&window.Promise&&window.fetch||document.body.classList.add("deprecated-browser"),e.next=3,o.a.awrap(n.e(7).then(n.bind(null,180)));case 3:return e.next=5,o.a.awrap(I.a());case 5:return E.init(),N.a.init(),Z=l.c()===l.b?"map":"expert",e.next=10,o.a.awrap(n(169)("./".concat(Z)));case 10:z=e.sent,R=z.default,U=new R,null===N.a.get("lastVisit")&&(N.a.reset(),N.a.set({lastVisit:(new Date).getTime()})),l.c()===l.b&&(P=new B.a("map",X),!new URL(window.location.href).searchParams.has("map")&&(J=N.a.get("map")||{},H=J.latitude,V=J.longitude,W=J.zoom,H&&V&&W&&P.setView([H,V],W))),Y=$.authenticated(),document.body.dataset.authenticated=Y,Y?(document.getElementById("login").classList.add("d-hide"),document.getElementById("logout").classList.remove("d-hide"),D.a.avatar(N.a.get("uid"))):(document.getElementById("login").classList.remove("d-hide"),document.getElementById("logout").classList.add("d-hide")),document.querySelector('.modal-trigger[data-modal="share"]').addEventListener("click",(function(){return O()})),document.getElementById("search").addEventListener("click",(function(){return K()})),document.getElementById("cancel").addEventListener("click",(function(){return S.c()})),document.getElementById("sort-order")&&(document.getElementById("sort-order").checked=!0,document.getElementById("sort-order").addEventListener("change",(function(){document.getElementById("notes").classList.toggle("reverse")}))),document.getElementById("hide-anonymous").addEventListener("change",(function(){U.reload().then(G)})),document.getElementById("login").addEventListener("click",(function(){var e=document.getElementById("login");e.classList.add("loading"),$.login().then((function(t){e.classList.add("d-hide"),document.getElementById("logout").classList.remove("d-hide"),document.body.dataset.authenticated=!0;var n=t.getElementsByTagName("user")[0].getAttribute("id");N.a.set({uid:n}),D.a.avatar(n)})).catch((function(e){console.log(e),document.body.dataset.authenticated=!1})).finally((function(){e.classList.remove("loading")}))})),document.getElementById("logout").addEventListener("click",(function(){$.logout(),document.getElementById("logout").classList.add("d-hide"),document.getElementById("login").classList.remove("d-hide"),document.body.dataset.authenticated=!1})),document.getElementById("note-comment").addEventListener("input",(function(){""===document.getElementById("note-comment").value.trim()?document.getElementById("note-comment-actions").classList.add("d-hide"):document.getElementById("note-comment-actions").classList.remove("d-hide")})),document.getElementsByClassName("comment-action").forEach((function(e){e.addEventListener("click",(function(){e.classList.add("loading");var t=Number.parseInt(document.getElementById("comments").dataset.noteId),n=document.getElementById("note-comment").value.trim();$.comment(t,n,e.dataset.action).then((function(e){U.update(t,new C.a(JSON.parse(e),F.api)).then(G),x.load(U.get(t))})).catch((function(e){console.log(e)})).finally((function(){e.classList.remove("loading")}))}))})),document.getElementsByClassName("setting").forEach((function(e){e.addEventListener("change",(function(){N.a.set({theme:document.getElementById("theme-selection").value,editors:{id:document.getElementById("editor-id").checked,josm:document.getElementById("editor-josm").checked,level0:document.getElementById("editor-level0").checked},tools:{openstreetmap:document.getElementById("tool-openstreetmap").checked,mapillary:document.getElementById("tool-mapillary").checked}}),te()}))})),document.getElementsByClassName("update-link").forEach((function(e){e.addEventListener("change",(function(){return O()}))})),document.getElementById("permalink").addEventListener("click",document.getElementById("permalink").select),document.getElementById("permalink").addEventListener("dblclick",(function(){document.getElementById("permalink").select(),document.execCommand("copy"),Q(I.c("action.copyLinkSuccess"),"toast-success")})),document.getElementById("link").addEventListener("click",(function(){N.a.set({previous:{url:F.url,api:F.api}},!0)})),document.addEventListener("keydown",(function(e){if(13===e.which){if(l.c()===l.b&&document.querySelector(".leaflet-control-geocoder-form input")===document.activeElement)return;S.f()?(S.c(),document.getElementById("preloader").classList.add("d-hide"),document.getElementById("search").classList.remove("d-hide"),document.getElementById("cancel").classList.add("d-hide")):K()}})),window.addEventListener("beforeunload",(function(){if(document.getElementById("remote").remove(),l.c()===l.b){var e=P.center();N.a.set({map:{latitude:e.lat,longitude:e.lng,zoom:P.zoom()}})}N.a.set({lastVisit:(new Date).getTime()})})),document.addEventListener("click",(function(e){var t=e.target.closest(".comments-modal-trigger");if(t){var n=Number.parseInt(t.closest("[data-note-id]").dataset.noteId);x.load(U.get(n))}var a=e.target.closest(".link-tool-mapillary");if(a){var o=Number.parseInt(a.closest("[data-note-id]").dataset.noteId);T.load(U.get(o))}})),ee(),te(),K();case 22:case"end":return e.stop()}}))},2:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r}));var a="map",o="expert";function r(){return document.body.dataset.mode}},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),o=n.n(a),r=n(6),i=n.n(r),c=n(7),s=n.n(c),l=n(3),u=n(9),d=function(){function e(){i()(this,e)}return s()(e,null,[{key:"load",value:function(t){var n,a;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:e.all||(e.all=new Set),t=u.b(Array.from(t),500),n=0;case 3:if(!(n<t.length)){r.next=12;break}return a="".concat("https://www.openstreetmap.org","/api/0.6/users?users=").concat(t[n].join(",")),r.next=7,o.a.awrap(l.e(a,l.a.XML));case 7:r.sent.documentElement.children.forEach((function(t){e.all.add({id:Number.parseInt(t.getAttribute("id")),name:t.getAttribute("display_name"),created:new Date(t.getAttribute("account_created")),description:t.getElementsByTagName("description")[0].innerText,image:t.querySelector("img[href]")?t.getElementsByTagName("img")[0].getAttribute("href"):null,changesets:t.getElementsByTagName("changesets")[0].getAttribute("count")})}));case 9:n++,r.next=3;break;case 12:case"end":return r.stop()}}))}},{key:"get",value:function(t){return t?Array.from(e.all).find((function(e){return e.id===t})):void 0}},{key:"avatar",value:function(t){var n,a;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=document.getElementById("user-avatar"),t){r.next=4;break}return n.style.display="none",r.abrupt("return");case 4:return r.next=6,o.a.awrap(e.load(new Set([t])));case 6:a=e.get(Number.parseInt(t)),n.style.display="inline-block",n.dataset.initial=u.c(a.name),n.innerHTML=a.image?'<img src="'.concat(a.image,'">'):"";case 10:case"end":return r.stop()}}))}}]),e}()},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return y}));var a=n(1),o=n.n(a),r=n(31),i=n.n(r),c=n(6),s=n.n(c),l=n(7),u=n.n(l),d=n(26),m=n(2),p=n(41),g=n(3),h=n(21),f={DEFAULT:"default",SEARCH:"search"},y=function(){function e(t,n,a,o,r,i){s()(this,e),this.query=t||null,this.limit=n||null,this.closed=a||!1,this.user=o||null,this.from=r||null,this.to=i||null,this.notes=new Set,this.api=f.SEARCH,this.url=this.build()}return u()(e,[{key:"search",value:function(){var e,t,n,a,r,c=this;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(this.notes=new Set,e=new Set,"string"!=typeof(t=this.url)){s.next=9;break}return s.next=6,o.a.awrap(g.e(t,g.a.JSON));case 6:n=s.sent,s.next=20;break;case 9:if(!Array.isArray(t)){s.next=20;break}n={type:"FeatureCollection",features:[]},a=0;case 12:if(!(a<t.length)){s.next=20;break}return s.next=15,o.a.awrap(g.e(t[a],g.a.JSON));case 15:(r=s.sent)&&r.features&&(n.features=n.features.concat(r.features));case 17:a++,s.next=12;break;case 20:if(n&&0!==n.features.length){s.next=22;break}return s.abrupt("return",this.notes);case 22:return n.features.forEach((function(t){try{var n=new p.a(t,c.api);c.notes.add(n),e=new Set([].concat(i()(e),i()(n.users)))}catch(e){console.error(e)}})),this.notes=Array.from(this.notes),this.notes.sort((function(e,t){return t.id-e.id})),s.next=27,o.a.awrap(h.a.load(e));case 27:return s.abrupt("return",this.notes);case 28:case"end":return s.stop()}}),null,this)}},{key:"build",value:function(){var e,t=this;if(m.c()===m.b){var n=new d.a("map"),a=n.boundsSize();if(.25>a)this.api=f.DEFAULT,e=g.b(n.bounds().toBBoxString(),this.limit,this.closed,this.user,this.from,this.to,this.api);else if(.25<=a&&1>=a){this.api=f.DEFAULT,e=[],n.splitBounds(n.bounds(),1).forEach((function(n){e.push(g.b(n.toBBoxString(),t.limit,t.closed,t.user,t.from,t.to,t.api))}))}else if(1<=a&&4>=a){this.api=f.DEFAULT,e=[],n.splitBounds(n.bounds(),2).forEach((function(n){e.push(g.b(n.toBBoxString(),t.limit,t.closed,t.user,t.from,t.to,t.api))}))}else this.api=f.SEARCH,e=g.b(this.query,this.limit,this.closed,this.user,this.from,this.to,this.api)}else this.api=f.SEARCH,e=g.b(this.query,this.limit,this.closed,this.user,this.from,this.to,this.api);return e}}]),e}()},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a,o=n(6),r=n.n(o),i=n(7),c=n.n(i),s=n(0),l=n(32),u={},d={minZoom:2,maxZoom:19,center:[0,0],zoom:2},m=function(){function e(t,n){var a=this;r()(this,e),u[t]?this.map=u[t]:(this.map=L.map(t,{minZoom:d.minZoom,maxZoom:d.maxZoom,center:d.center,zoom:d.zoom,maxBounds:L.latLngBounds(L.latLng(-90,-180),L.latLng(90,180))}),u[t]=this.map,n&&this.map.on("move",n),L.Control.geocoder&&L.Control.geocoder({placeholder:s.c("action.search"),errorMessage:s.c("description.nothingFound")}).addTo(this.map),this.tiles(),document.addEventListener("color-scheme-changed",(function(){return a.tiles()})))}return c()(e,[{key:"tiles",value:function(){a&&this.map.removeLayer(a);var e=l.b()===l.a?"dark_all":"light_all",t=L.Browser.retina?"@2x.png":".png";a=L.tileLayer("https://cartodb-basemaps-{s}.global.ssl.fastly.net/".concat(e,"/{z}/{x}/{y}").concat(t),{maxZoom:d.maxZoom,subdomains:"abcd",attribution:s.c("map.attribution")}),this.map.addLayer(a)}},{key:"addLayer",value:function(e){this.map.addLayer(e)}},{key:"removeLayers",value:function(){var e=this;this.map.eachLayer((function(t){t!==a&&e.map.removeLayer(t)}))}},{key:"marker",value:function(e){L.marker(e).addTo(this.map)}},{key:"bounds",value:function(){return this.map.getBounds()}},{key:"boundsSize",value:function(){var e=this.bounds();return(e.getNorth()-e.getSouth())*(e.getEast()-e.getWest())}},{key:"splitBounds",value:function(e,t){Array.isArray(e)||(e=[e]);for(var n,a=0;a<t;a++){n=[];for(var o=0;o<e.length;o++){var r=[],i=e[o],c=(i.getWest()+i.getEast())/2,s=(i.getSouth()+i.getNorth())/2;0<c-180?c-=360:0>c+180&&(c+=360),r.push(L.latLngBounds(L.latLng(i.getSouth(),i.getWest()),L.latLng(s,c))),r.push(L.latLngBounds(L.latLng(i.getSouth(),c),L.latLng(s,i.getEast()))),r.push(L.latLngBounds(L.latLng(s,c),L.latLng(i.getNorth(),i.getEast()))),r.push(L.latLngBounds(L.latLng(s,i.getWest()),L.latLng(i.getNorth(),c))),n=n.concat(r)}e=n}return e}},{key:"center",value:function(){return L.latLng(this.map.getCenter().lat.toFixed(4),this.map.getCenter().lng.toFixed(4))}},{key:"zoom",value:function(){return this.map.getZoom().toFixed(0)}},{key:"setView",value:function(e,t){this.map.setView(e,t)}},{key:"flyToBounds",value:function(e,t){this.map.flyToBounds(e,{duration:t,maxZoom:d.maxZoom})}}]),e}()},3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d}));var a=n(22),o=new AbortController,r=!1,i={JSON:"application/json",XML:"text/xml"};function c(e,t,n,o,r,i,c){var s=new URL("https://www.openstreetmap.org");s.pathname=c===a.a.DEFAULT?"/api/0.6/notes.json":"/api/0.6/notes/search.json";var l={q:e,limit:t,display_name:o,closed:n?"-1":"0",from:r,to:i};return c===a.a.DEFAULT&&(delete l.q,l.bbox=e),s.search=d(l,!0),s.toString()}function s(e,t){return r=!0,o=new AbortController,fetch(e,{signal:o.signal}).then((function(e){return t===i.JSON?e.json():e.text()})).then((function(e){return t===i.XML?(new DOMParser).parseFromString(e,"text/xml"):e})).catch((function(t){console.log("Error while fetching file at ".concat(e,": ").concat(t))})).finally((function(){r=!1}))}function l(){return r}function u(){o.abort()}function d(e,t){var n=[];for(var a in e)""===e[a]||t&&null===e[a]||n.push("".concat(encodeURIComponent(a),"=").concat(encodeURIComponent(e[a])));return n.join("&")}},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(4),o="light",r="dark",i="system",c=a.a.get("theme")||"system",s=window.matchMedia("(prefers-color-scheme: dark)");function l(e){e===c||(c=e,d(),c===i?s.addListener(d):s.removeListener(d))}function u(){return c===o?o:c===r?r:c===i&&s.matches?r:o}function d(){document.body.dataset.theme=u(),document.dispatchEvent(new Event("color-scheme-changed"))}document.body.dataset.theme=u()},4:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(6),o=n.n(a),r=n(7),i=n.n(r),c=/^({|\[)[\s\S]*(}|\])$/m,s={map:{latitude:0,longitude:0,zoom:2},theme:"system",tools:{openstreetmap:!0,mapillary:!1},editors:{id:!0,josm:!1,level0:!0}},l=function(){function e(){o()(this,e)}return i()(e,null,[{key:"init",value:function(){Object.keys(s).forEach((function(t){null===e.get(t)&&e.reset()}))}},{key:"get",value:function(e,t){var n=(t?window.sessionStorage:window.localStorage).getItem(e);return c.test(n)&&(n=JSON.parse(n)),n}},{key:"set",value:function(e,t){var n=t?window.sessionStorage:window.localStorage;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=e[a];if(Array.isArray(o))n.setItem(a,JSON.stringify(o));else if("object"==typeof o){var r=n.getItem(a);r=c.test(r)?JSON.parse(r):{},n.setItem(a,JSON.stringify(Object.assign(r,o)))}else n.setItem(a,o)}}},{key:"remove",value:function(e,t){(t?window.sessionStorage:window.localStorage).removeItem(e)}},{key:"reset",value:function(){window.sessionStorage.clear(),window.localStorage.clear(),e.set(s)}}]),e}()},41:function(e,t,n){"use strict";var a=n(12),o=n.n(a),r=n(6),i=n.n(r),c=n(7),s=n.n(c),l=n(10),u=n(89),d=new(n.n(u).a),m={imgur:/(http(s)?:\/\/)?i\.imgur\.com\/\w+\.(jpg|png)/,framapic:/(http(s)?:\/\/)?(www\.)?framapic\.org\/(random\?i=)?\w+\/\w+(\.(jpg|jpeg|png))?/,westnordost:/https:\/\/westnordost\.de\/p\/[0-9]+\.jpg/,wikimedia:/https:\/\/upload\.wikimedia\.org\/wikipedia\/commons\/(?:thumb\/)?(\w\/\w\w)\/(.+?\.(?:jpg|png))(?:\/.+?\.(?:jpg|png))?/},p={wikimedia:"https://upload.wikimedia.org/wikipedia/commons/thumb/$1/$2/300px-$2"};function g(e){var t=d.match(e);if(t){var n=[],a=0;t.forEach((function(t){a<t.index&&n.push(h(e.slice(a,t.index)).replace(/\r?\n/g,"<br>"));var r=function(e){var t=!1,n=null;return Object.entries(m).forEach((function(a){var r=o()(a,2),i=r[0],c=r[1],s=p[i];c.test(e)&&(t=!0,s&&(n=e.replace(new RegExp(c.source,"gi"),s)))})),{image:t,formatted:n}}(t.url),i=r.image,c=r.formatted;c&&(t.url=c),i?n.push('\n          <a href="'.concat(h(t.url),'" target="_blank" rel="noopener noreferrer">\n            <img class="img-responsive img-preview m-1" src="').concat(h(t.url),'" alt="').concat(h(t.text),'">\n          </a>')):n.push('<a href="'.concat(h(t.url),'" target="_blank" rel="noopener noreferrer">').concat(h(t.text),"</a>")),a=t.lastIndex})),a<e.length&&n.push(h(e.slice(a)).replace(/\r?\n/g,"<br>")),e=n.join("")}else e=h(e);return e}function h(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var f=n(0),y=n(9);n.d(t,"a",(function(){return b}));var v=[/(?:https?:\/\/)?(?:www\.)?(?:osm|openstreetmap)\.org\/(node|way|relation)\/([0-9]+)/,/(node|way|relation)\/([0-9]+)/,/(node|way|relation)(?:\\s)?#([0-9]+)/,/(n|w|r)\/([0-9]+)/],b=function(){function e(t,n){if(i()(this,e),0===t.properties.comments.length)throw new Error("Note ".concat(t.properties.id," can not be parsed because there are no comments."));this.id=t.properties.id,this.status=t.properties.status,this.coordinates=t.geometry.coordinates.reverse(),this.date=new Date(t.properties.date_created.replace(/-/g,"/")),this.color=y.e(this.date),this.comments=this.parseComments(t.properties.comments),this.users=this.comments.filter((function(e){return null!==e.uid})).map((function(e){return e.uid}));var a=o()(this.comments,1);this.comment=a[0],this.anonymous=this.comment.anonymous,this.user=this.comment.user,this.api=n,this.visible=!0}return s()(e,[{key:"parseComments",value:function(e){for(var t,n=[],a=e.length-1;0<=a;a--)(t=e[a]).anonymous=!t.user,t.anonymous&&(t.user=f.c("note.anonymous"),t.uid=null),t.date=new Date(t.date.replace(/-/g,"/")),t.color=y.e(t.date),t.html=g(t.text),n.includes(t.text)?e.splice(a,1):""!==t.text&&n.push(t.text);return e}},{key:"actions",get:function(){var e,t=this,n=y.a(this.coordinates),a={osm:{class:"link-osm",link:"".concat("https://www.openstreetmap.org","/note/").concat(this.id),icon:"icon-external",text:f.c("action.openstreetmap")},iD:{class:"link-editor-id",link:"".concat("https://www.openstreetmap.org","/edit?editor=id#map=19/").concat(this.coordinates.join("/")),icon:"icon-external",text:f.c("action.edit.id")},josm:{class:"link-editor-josm",link:"http://127.0.0.1:8111/load_and_zoom?left=".concat(n.left,"&bottom=").concat(n.bottom,"&right=").concat(n.right,"&top=").concat(n.top),icon:"icon-external",text:f.c("action.edit.josm"),remote:!0},level0:{class:"link-editor-level0",link:"http://level0.osmz.ru/?center=".concat(this.coordinates.join()),icon:"icon-external",text:f.c("action.edit.level0")},mapillary:{class:"link-tool-mapillary",icon:"icon-mapillary",text:f.c("action.mapillary")},comment:{class:"comments-modal-trigger requires-authentication",icon:"icon-pencil",text:f.c("action.comment")}};return 1<this.comments.length&&delete a.comment,v.forEach((function(n){if(!e&&((e=t.comment.html.match(n))&&1<e.length)){var r=e,i=o()(r,3),c=i[1],s=i[2];"n"===c?c="node":"w"===c?c="way":"r"===c&&(c="relation"),a.iD.link="".concat("https://www.openstreetmap.org","/edit?editor=id&").concat(c,"=").concat(s),a.josm.link+="&select=".concat(c).concat(s),a.level0.link="http://level0.osmz.ru/?url=".concat(c,"/").concat(s,"&center=").concat(t.coordinates.join())}})),Object.values(a)}},{key:"badges",get:function(){return{age:l.a(this.color,this.date),comments:l.b(this.comments.length-1),country:l.c(this.coordinates),user:l.f(this.comment.uid,this.anonymous),report:l.d(this.id)}}}]),e}()},88:function(e,t,n){var a={"./de":[98,0],"./de.json":[98,0],"./en":[99,1],"./en.json":[99,1],"./es":[100,2],"./es.json":[100,2],"./it":[101,3],"./it.json":[101,3]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,3)}))}o.keys=function(){return Object.keys(a)},o.id=88,e.exports=o},9:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(12),o=n.n(a),r=n(0),i=n(22),c=2*Math.PI*6371e3/360;function s(e){var t=Math.abs((new Date).getTime()-e.getTime()),n=Math.round(t/36e5),a=Math.round(t/864e5),o=Math.round(t/2592e6),r=Math.round(t/315576e5);return 24>=n?"green-dark":31>=a?"green":6>o?"yellow":12>o?"amber":1>=r?"orange":"red"}function l(e){var t=document.getElementById("query").value,n=document.getElementById("user").value,a=document.getElementById("from").value,o=document.getElementById("to").value,c=!0;if(e.api===i.a.DEFAULT){a=""===a?new Date(0):new Date(a),o=""===o?new Date:new Date(o);var s=new Date(e.date);c=e.comments.map((function(e){return e.text})).join(" ").toLocaleUpperCase().includes(t.toLocaleUpperCase())&&s>a&&s<o&&(!!["","anonymous",r.c("note.anonymous")].includes(n)||0===n.localeCompare(e.user.name))}return c&&(!!document.getElementById("show-closed").checked||"open"===e.status)&&(!document.getElementById("hide-anonymous").checked||!e.anonymous)&&(!["anonymous",r.c("note.anonymous")].includes(n)||e.anonymous)}function u(e){var t=e.substring(0,2);if(/^(.).*(?:\s|_)(.).*$/.test(e)){var n=/^(.).*(?:\s|_)(.).*$/.exec(e),a=o()(n,3),r=a[1],i=a[2];t="".concat(r).concat(i)}else if(/^(.).*[a-z]([A-Z]).*$/.test(e)){var c=/^(.).*[a-z]([A-Z]).*$/.exec(e),s=o()(c,3),l=s[1],u=s[2];t="".concat(l).concat(u)}return t.toUpperCase()}function d(e,t){t||(t=100);var n=o()(e,2),a=n[0],r=n[1];return{left:r-t/(c*Math.cos(a*Math.PI/180)),bottom:a-t/c,right:r+t/(c*Math.cos(a*Math.PI/180)),top:a+t/c}}function m(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function p(e,t){for(var n=[],a=0,o=e.length;a<o;a+=t)n.push(e.slice(a,a+t));return n}},93:function(e,t,n){var a=n(52);e.exports=function(){var e=new a.Template({code:function(e,t,n){var a=this;return a.b(n=n||""),a.s(a.f("comments",e,t,1),e,t,0,13,233,"{{ }}")&&(a.rs(e,t,(function(e,t,n){n.b(' <div class="tile"><div class="tile-content"><div class="tile-title"> '),n.b(n.t(n.d("badges.user",e,t,0))),n.b(" "),n.b(n.t(n.d("badges.age",e,t,0))),n.b(" "),n.b(n.t(n.d("badges.status",e,t,0))),n.b('</div><p class="tile-subtitle text-break">'),n.b(n.t(n.f("html",e,t,0))),n.b('</p></div></div><div class="divider"></div> ')})),e.pop()),a.fl()},partials:{},subs:{}},'{{#comments}} <div class="tile"><div class="tile-content"><div class="tile-title"> {{{badges.user}}} {{{badges.age}}} {{{badges.status}}}</div><p class="tile-subtitle text-break">{{{html}}}</p></div></div><div class="divider"></div> {{/comments}}',a);return e.render.apply(e,arguments)}},94:function(e,t,n){var a=n(52);e.exports=function(){var e=new a.Template({code:function(e,t,n){var a=this;return a.b(n=n||""),a.s(a.d("images.length",e,t,1),e,t,0,18,708,"{{ }}")&&(a.rs(e,t,(function(e,t,n){n.b(" "),n.s(n.f("images",e,t,1),e,t,0,30,696,"{{ }}")&&(n.rs(e,t,(function(e,t,n){n.b(' <div class="column col-4 col-md-6 my-1"><div class="mapillary-image p-relative"><img src="https://images.mapillary.com/'),n.b(n.v(n.f("key",e,t,0))),n.b('/thumb-320.jpg" class="img-responsive" width="320" height="240"> <a class="mapillary-image-link p-absolute px-2" href="https://www.mapillary.com/app/?pKey='),n.b(n.v(n.f("key",e,t,0))),n.b('" target="_blank" rel="noopener"><img src="'),n.s(n.f("expert",e,t,1),e,t,0,373,376,"{{ }}")&&(n.rs(e,t,(function(e,t,n){n.b("../")})),e.pop()),n.b('assets/logos/mapillary.svg"></a><p class="mapillary-image-user p-absolute px-2 bg-dark">@'),n.b(n.v(n.f("user",e,t,0))),n.b(' <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"><abbr title="Creative Commons Attribution-ShareAlike 4.0 International License">(CC BY-SA 4.0)</abbr></a></p></div></div> ')})),e.pop()),n.b(" ")})),e.pop()),a.b(" "),a.s(a.d("images.length",e,t,1),e,t,1,0,0,"")||(a.b(' <div class="empty col-12"><div class="empty-icon"></div><p class="empty-title h5" data-i18n="mapillary.empty.title">There are no photos of this place yet</p><p class="empty-subtitle" data-i18n="mapillary.empty.subtitle">You can help other mappers by uploading street-level imagery to Mapillary.</p><div class="empty-action"><a class="btn btn-primary" href="'),a.b(a.v(a.f("link",e,t,0))),a.b('" target="_blank" rel="noopener"><span class="icon icon-mapillary"></span> <span data-i18n="mapillary.empty.add">Add photos of this place</span></a></div></div> ')),a.fl()},partials:{},subs:{}},'{{#images.length}} {{#images}} <div class="column col-4 col-md-6 my-1"><div class="mapillary-image p-relative"><img src="https://images.mapillary.com/{{key}}/thumb-320.jpg" class="img-responsive" width="320" height="240"> <a class="mapillary-image-link p-absolute px-2" href="https://www.mapillary.com/app/?pKey={{key}}" target="_blank" rel="noopener"><img src="{{#expert}}../{{/expert}}assets/logos/mapillary.svg"></a><p class="mapillary-image-user p-absolute px-2 bg-dark">@{{user}} <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"><abbr title="Creative Commons Attribution-ShareAlike 4.0 International License">(CC BY-SA 4.0)</abbr></a></p></div></div> {{/images}} {{/images.length}} {{^images.length}} <div class="empty col-12"><div class="empty-icon"></div><p class="empty-title h5" data-i18n="mapillary.empty.title">There are no photos of this place yet</p><p class="empty-subtitle" data-i18n="mapillary.empty.subtitle">You can help other mappers by uploading street-level imagery to Mapillary.</p><div class="empty-action"><a class="btn btn-primary" href="{{link}}" target="_blank" rel="noopener"><span class="icon icon-mapillary"></span> <span data-i18n="mapillary.empty.add">Add photos of this place</span></a></div></div> {{/images.length}}',a);return e.render.apply(e,arguments)}}});