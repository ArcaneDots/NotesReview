(self.webpackChunkNotesReview=self.webpackChunkNotesReview||[]).push([[270,742],{7203:function(t,e,s){"use strict";s.a(t,(async function(t){s.r(e),s.d(e,{default:function(){return p}});var n=s(6610),r=s(5991),o=s(379),i=s(3724),a=s(7608),c=s(7633),u=s(5986),d=s(7080),f=s(2958),b=s.n(f),l=t([d]);d=(l.then?await l:l)[0];var v=new c.Z("map"),p=function(t){function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}(0,o.Z)(e,t);var s=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,n=(0,a.Z)(t);if(e){var r=(0,a.Z)(this).constructor;s=Reflect.construct(n,arguments,r)}else s=n.apply(this,arguments);return(0,i.Z)(this,s)}}(e);return(0,r.Z)(e,[{key:"show",value:function(t,e,s){this.notes=t,this.query=e;var n=0,r=0,o=L.markerClusterGroup({maxClusterRadius:40});return t.forEach((function(t){var s;d.jD(t,e)&&(n++,r+=t.created.getTime(),s=e.closed?"open"===t.status?"assets/markers/green.svg":"assets/markers/red.svg":"assets/markers/".concat(t.color,".svg"),L.marker(t.coordinates,{icon:new L.divIcon({html:'<img alt="" src="'.concat(s,'" class="marker-icon">'),iconSize:[25,40],iconAnchor:[12.5,40],popupAnchor:[0,-30],className:"marker-icon"})}).bindPopup(b()({id:t.id,badges:t.badges,comment:t.comments[0].html,actions:t.actions}),{maxWidth:1<t.comments[0].images.length?document.getElementById("map").offsetWidth-200:350}).addTo(o))})),v.removeLayers(),v.addLayer(o),!s&&0<n&&v.flyToBounds(o.getBounds(),1),Promise.resolve({amount:n,average:new Date(r/n)})}}]),e}(u.default)}))},5986:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return o}});var n=s(6610),r=s(5991),o=function(){function t(){if((0,n.Z)(this,t),(this instanceof t?this.constructor:void 0)===t)throw new TypeError('Abstract class "UI" cannot be instantiated directly');if(void 0===this.show)throw new TypeError("Must override method show()");this.notes=[],this.query=null}return(0,r.Z)(t,[{key:"get",value:function(t){return this.notes.find((function(e){return e.id===t}))}},{key:"update",value:function(t,e){var s=this.notes.findIndex((function(e){return e.id===t}));if(-1===s)throw new Error("The note with the id ".concat(t," could not be found in the array"));return this.notes[s]=e,this.reload()}},{key:"reload",value:function(){return this.show(this.notes,this.query,!0)}}]),t}()},2958:function(t,e,s){var n=s(5485);t.exports=function(){var t=new n.Template({code:function(t,e,s){var n=this;return n.b(s=s||""),n.b('<div class="card" data-note-id="'),n.b(n.v(n.f("id",t,e,0))),n.b('"><div class="card-header"> '),n.b(n.t(n.d("badges.user",t,e,0))),n.b(" "),n.b(n.t(n.d("badges.age",t,e,0))),n.b(" "),n.b(n.t(n.d("badges.comments",t,e,0))),n.b(" "),n.s(n.f("expert",t,e,1),t,e,0,134,154,"{{ }}")&&(n.rs(t,e,(function(t,e,s){s.b(s.t(s.d("badges.country",t,e,0)))})),t.pop()),n.b(" "),n.b(n.t(n.d("badges.report",t,e,0))),n.b('</div><div class="card-body text-break"> '),n.b(n.t(n.f("comment",t,e,0))),n.b('</div><div class="card-footer"> '),n.s(n.f("actions",t,e,1),t,e,0,283,776,"{{ }}")&&(n.rs(t,e,(function(t,e,s){s.b(" "),s.s(s.f("link",t,e,1),t,e,0,293,570,"{{ }}")&&(s.rs(t,e,(function(t,e,s){s.b(' <a class="btn btn-primary btn-sm my-1 '),s.b(s.v(s.f("class",t,e,0))),s.b('" href="'),s.b(s.v(s.f("link",t,e,0))),s.b('" '),s.s(s.f("remote",t,e,1),t,e,0,370,387,"{{ }}")&&(s.rs(t,e,(function(t,e,s){s.b(' target="remote" ')})),t.pop()),s.s(s.f("remote",t,e,1),t,e,1,0,0,"")||s.b(' target="_blank" rel="noopener" '),s.b('><svg class="icon"><use xlink:href="'),s.s(s.f("expert",t,e,1),t,e,0,499,502,"{{ }}")&&(s.rs(t,e,(function(t,e,s){s.b("../")})),t.pop()),s.b("dist/svg/sprite.svg#"),s.b(s.v(s.f("icon",t,e,0))),s.b('"></use></svg> '),s.b(s.v(s.f("text",t,e,0))),s.b(" </a> ")})),t.pop()),s.b(" "),s.s(s.f("link",t,e,1),t,e,1,0,0,"")||(s.b(' <button class="btn btn-primary btn-sm my-1 '),s.b(s.v(s.f("class",t,e,0))),s.b('"><svg class="icon"><use xlink:href="'),s.s(s.f("expert",t,e,1),t,e,0,690,693,"{{ }}")&&(s.rs(t,e,(function(t,e,s){s.b("../")})),t.pop()),s.b("dist/svg/sprite.svg#"),s.b(s.v(s.f("icon",t,e,0))),s.b('"></use></svg> '),s.b(s.v(s.f("text",t,e,0))),s.b(" </button> ")),s.b(" ")})),t.pop()),n.b(" </div></div>"),n.fl()},partials:{},subs:{}},'<div class="card" data-note-id="{{id}}"><div class="card-header"> {{{badges.user}}} {{{badges.age}}} {{{badges.comments}}} {{#expert}}{{{badges.country}}}{{/expert}} {{{badges.report}}}</div><div class="card-body text-break"> {{{comment}}}</div><div class="card-footer"> {{#actions}} {{#link}} <a class="btn btn-primary btn-sm my-1 {{class}}" href="{{link}}" {{#remote}} target="remote" {{/remote}}{{^remote}} target="_blank" rel="noopener" {{/remote}}><svg class="icon"><use xlink:href="{{#expert}}../{{/expert}}dist/svg/sprite.svg#{{icon}}"></use></svg> {{text}} </a> {{/link}} {{^link}} <button class="btn btn-primary btn-sm my-1 {{class}}"><svg class="icon"><use xlink:href="{{#expert}}../{{/expert}}dist/svg/sprite.svg#{{icon}}"></use></svg> {{text}} </button> {{/link}} {{/actions}} </div></div>',n);return t.render.apply(t,arguments)}}}]);