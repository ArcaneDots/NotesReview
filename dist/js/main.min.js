!function(){var e,t,n,o,r={7849:function(e,t,n){var o={"./expert":[3146,600],"./expert.js":[3146,600],"./map":[9719,270],"./map.js":[9719,270],"./ui":[5391,742],"./ui.js":[5391,742]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(o)},r.id=7849,e.exports=r},9967:function(e,t,n){var o={"./de":[8118,216],"./de.json":[8118,216],"./en":[6635,933],"./en.json":[6635,933],"./es":[1876,673],"./es.json":[1876,673],"./fr":[4076,293],"./fr.json":[4076,293],"./it":[2067,830],"./it.json":[2067,830],"./pt-BR":[394,91],"./pt-BR.json":[394,91],"./zh-TW":[7329,542],"./zh-TW.json":[7329,542]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(o)},r.id=9967,e.exports=r},9345:function(e,t,n){"use strict";n.d(t,{B_:function(){return d},G_:function(){return m},V2:function(){return p},EA:function(){return f},i7:function(){return g},Hj:function(){return h}});var o=n(319),r=n.n(o),a=n(5815),i=n(2358),c=n(5628),s=n(5983),u=n(4068);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function d(e,t,n){var o="bottom";return n&&(o=i.U2()===i.FN?"right":"left"),'\n  <span class="label label-'.concat(e," my-1 c-default tooltip tooltip-").concat(o,'" data-tooltip="').concat(t.toLocaleString(),'">\n    <time-ago datetime="').concat(t,'" title="">\n      ').concat(t.toLocaleDateString(),"\n    </time-ago>\n  </span>")}function m(e){if(0<e){var t=1===e?a.yw("note.comment"):a.yw("note.comments",e);return'<span class="label label-primary my-1 comments-modal-trigger c-hand">'.concat(t,"</span>")}}function p(e){var t=u.zL(r()(e).reverse());if(t&&"properties"in t&&"emojiFlag"in t.properties){var n,o=[],a=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0},f:function e(){try{a||null==n.return||n.return()}finally{if(i)throw e}}}}(t.properties.emojiFlag);try{for(a.s();!(n=a.n()).done;){var i=n.value;o.push(i.codePointAt(0).toString(16))}}catch(e){a.e(e)}finally{a.f()}var c="https://twemoji.maxcdn.com/v/latest/svg/".concat(o.join("-"),".svg");return'<span><img class="country-flag" src="'.concat(c,'" height="24" width="24"></span>')}}function f(e,t){if(t)return'<span class="label label-error my-1">'.concat(a.yw("note.anonymous"),"</span>");var n=c.Z.get(e),o=n.image?'<img src="'.concat(n.image,'">'):"",r=s.eu(n.name);return'<figure class="avatar" data-initial="'.concat(r,'">').concat(o,'</figure>\n            <a href="').concat("https://www.openstreetmap.org","/user/").concat(n.name,'" target="_blank" rel="noopener">\n              <span class="tooltip tooltip-bottom" data-tooltip="').concat(a.yw("user.created",n.created.toLocaleDateString()),'">\n                ').concat(n.name,"\n              </span>\n            </a>")}function g(e){return"opened"===e?'<span class="label label-success my-1">'.concat(a.yw("note.action.opened"),"</span>"):"closed"===e?'<span class="label label-error my-1">'.concat(a.yw("note.action.closed"),"</span>"):"reopened"===e?'<span class="label label-warning my-1">'.concat(a.yw("note.action.reopened"),"</span>"):void 0}function h(e){var t=i.U2()===i.FN?"dist/svg/icons.svg#sprite-flag":"../dist/svg/icons.svg#sprite-flag";return'<a href="'.concat("https://www.openstreetmap.org","/reports/new?reportable_type=Note&reportable_id=").concat(e,'" target="_blank" rel="noopener">\n            <span class="float-right tooltip tooltip-bottom" data-tooltip="').concat(a.yw("action.report"),'">\n              <svg class="icon"><use xlink:href="').concat(t,'"></use></svg>\n            </span>\n          </a>')}},6815:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var o,r=n(319),a=n.n(r),i=n(4575),c=n.n(i),s=n(3913),u=n.n(s),l=n(5815),d=n(5572),m=n(9144),p={},f={center:d.Z.get("map").center,zoom:{min:2,max:18,current:d.Z.get("map").zoom}},g=function(){function e(t,n){var o=this;c()(this,e),p[t]?this.map=p[t]:(this.map=L.map(t,{center:f.center,minZoom:f.zoom.min,maxZoom:f.zoom.max,zoom:f.zoom.current,maxBounds:L.latLngBounds(L.latLng(-90,-180),L.latLng(90,180))}),p[t]=this.map,this.map.on("popupopen",(function(e){e.popup._container.querySelectorAll("img").forEach((function(t){return t.onload=function(){return e.popup.update()}}))})),L.Control.geocoder&&L.Control.geocoder({placeholder:l.yw("action.search"),errorMessage:l.yw("description.nothingFound")}).addTo(this.map),this.tiles(),document.addEventListener("color-scheme-changed",(function(){return o.tiles()}))),n&&this.map.on("move",n)}return u()(e,[{key:"tiles",value:function(){o&&this.map.removeLayer(o);var e=m.U2()===m.Py?"dark_all":"light_all",t=L.Browser.retina?"@2x.png":".png";o=L.tileLayer("https://cartodb-basemaps-{s}.global.ssl.fastly.net/".concat(e,"/{z}/{x}/{y}").concat(t),{maxZoom:f.maxZoom,subdomains:"abcd",attribution:l.yw("map.attribution")}),this.map.addLayer(o)}},{key:"addLayer",value:function(e){this.map.addLayer(e)}},{key:"removeLayers",value:function(){var e=this;this.map.eachLayer((function(t){t!==o&&e.map.removeLayer(t)}))}},{key:"marker",value:function(e){L.marker(e).addTo(this.map)}},{key:"bounds",value:function(){return this.map.getBounds()}},{key:"boundsSize",value:function(){var e=this.bounds();return(e.getNorth()-e.getSouth())*(e.getEast()-e.getWest())}},{key:"splitBounds",value:function(e,t){Array.isArray(e)||(e=[e]);for(var n,o=0;o<t;o++){n=[];for(var r=0;r<e.length;r++){var i=[],c=e[r],s=(c.getWest()+c.getEast())/2,u=(c.getSouth()+c.getNorth())/2;0<s-180?s-=360:0>s+180&&(s+=360),i.push(L.latLngBounds(L.latLng(c.getSouth(),c.getWest()),L.latLng(u,s))),i.push(L.latLngBounds(L.latLng(c.getSouth(),s),L.latLng(u,c.getEast()))),i.push(L.latLngBounds(L.latLng(u,s),L.latLng(c.getNorth(),c.getEast()))),i.push(L.latLngBounds(L.latLng(u,c.getWest()),L.latLng(c.getNorth(),s))),n=[].concat(a()(n),i)}e=n}return e}},{key:"center",value:function(){return L.latLng(this.map.getCenter().lat.toFixed(4),this.map.getCenter().lng.toFixed(4))}},{key:"zoom",value:function(){return this.map.getZoom().toFixed(0)}},{key:"setView",value:function(e,t){this.map.setView(e,t)}},{key:"flyToBounds",value:function(e,t){this.map.flyToBounds(e,{duration:t,maxZoom:f.maxZoom})}}]),e}()},5815:function(e,t,n){"use strict";n.d(t,{yw:function(){return g},NC:function(){return y},S1:function(){return v}});var o=n(7757),r=n.n(o),a=n(8926),i=n.n(a),c=n(3038),s=n.n(c),u="i18n",l=navigator.language||navigator.userLanguage,d="en",m={main:null,fallback:null};function p(e){return(e=e.replace(/^[A-Z]/,(function(e){return e.toLowerCase()}))).replace(/[A-Z]/,(function(e){return"-".concat(e.toLowerCase())}))}function f(e,t,n){if(n){var o="!HTML!"===n.substring(0,6);o&&(n=n.replace(/^!HTML!(\s+)?/,"")),t?e.setAttribute(t,n):""!==n&&(o?e.innerHTML=n:e.textContent=n)}}function g(e,t){var n=null===m.main?null:h(e,m.main);return n&&"string"==typeof n||(n=h(e,m.fallback)),n&&"string"==typeof n?void 0!==t&&"string"==typeof n?n.replace("%s",t):"string"==typeof n?n.replace("{{version}}","1.3.0").trim():n:console.error(new Error("String with the tag ".concat(e,' could not be found in "').concat(l,'.json" and "').concat(d,'.json"')))}function h(e,t){for(var n=e.split("."),o=t,r=0;r<n.length;r++)void 0!==o[n[r]]&&(o=o[n[r]]);return o}function y(e){e.querySelectorAll("[".concat("data-i18n","]")).forEach((function(e){!function(e,t){""!==t&&f(e,null,g(t));for(var n=0,o=Object.entries(e.dataset);n<o.length;n++){var r=s()(o[n],2),a=r[0],i=r[1];a.substring(0,u.length)===u&&a!==u&&f(e,p(a.slice(u.length)),g(i))}}(e,e.dataset.i18n)}))}function v(){return b.apply(this,arguments)}function b(){return(b=i()(r().mark((function e(){var t,o,a,i,c,s,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(9967)("./".concat(l));case 3:t=e.sent,o=t.default,m.main=o,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(new Error("".concat(l,".json does not exist, ").concat(d,".json is used instead")));case 11:return e.next=13,n(9967)("./".concat(d));case 13:if(a=e.sent,i=a.default,m.fallback=i,y(document.body),document.querySelector("html").setAttribute("lang",l),"Intl"in window&&"RelativeTimeFormat"in window.Intl){e.next=56;break}e.t1=l.split("-")[0],e.next="de"===e.t1?22:"es"===e.t1?26:"fr"===e.t1?30:"it"===e.t1?34:"pt"===e.t1?38:"zh"===e.t1?42:46;break;case 22:return e.next=24,n.e(811).then(n.t.bind(n,2832,19));case 24:return c=e.sent,e.abrupt("break",49);case 26:return e.next=28,n.e(356).then(n.t.bind(n,9825,19));case 28:return c=e.sent,e.abrupt("break",49);case 30:return e.next=32,n.e(657).then(n.t.bind(n,8541,19));case 32:return c=e.sent,e.abrupt("break",49);case 34:return e.next=36,n.e(483).then(n.t.bind(n,5959,19));case 36:return c=e.sent,e.abrupt("break",49);case 38:return e.next=40,n.e(283).then(n.t.bind(n,1442,19));case 40:return c=e.sent,e.abrupt("break",49);case 42:return e.next=44,n.e(770).then(n.t.bind(n,3176,19));case 44:return c=e.sent,e.abrupt("break",49);case 46:return e.next=48,n.e(907).then(n.t.bind(n,579,19));case 48:c=e.sent;case 49:return e.next=51,n.e(942).then(n.bind(n,7021));case 51:s=e.sent,(u=s.default).addLocale(c.default),"Intl"in window||(window.Intl={}),window.Intl.RelativeTimeFormat=u;case 56:return e.abrupt("return",Promise.resolve());case 57:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},155:function(e,t,n){"use strict";var o=n(3038),r=n.n(o),a=n(7757),i=n.n(a),c=n(8926),s=n.n(c),u=(n(6486),n(3462),n(5302),n(4667),n(2954),n(2478),n(8504),n(5666),n(4575)),l=n.n(u),d=n(3913),m=n.n(d),p=n(2358),f=osmAuth({oauth_consumer_key:"JVmpxVyZ0ha7NtHasW3JhRyQ4spqJLKydTU46E76",oauth_secret:"8djZYfFcMkpUYXz84PwZDdwHoKAcaEgWqFLpVWf9",url:"https://www.openstreetmap.org",auto:!0,landing:p.U2()===p.FN?"landing.html":"../landing.html"}),g=function(){function e(){l()(this,e)}return m()(e,[{key:"login",value:function(){var e=this;return new Promise((function(t,n){f.authenticate((function(o){o?n(o):t(e.request("GET","user/details"))}))}))}},{key:"logout",value:function(){f.logout()}},{key:"authenticated",value:function(){return f.authenticated()}},{key:"comment",value:function(e,t,n){return this.authenticated()?t?(n||(n="comment"),this.request("POST","notes/".concat(e,"/").concat(n,".json?text=").concat(encodeURIComponent(t)))):Promise.reject(new Error("No text was given")):Promise.reject(new Error("User is not authenticated"))}},{key:"request",value:function(e,t){var n={method:e,path:"/api/0.6/".concat(t)};return new Promise((function(e,t){f.xhr(n,(function(n,o){n?t(n):e(o)}))}))}}]),e}(),h=n(9345),y=n(6525),v=n.n(y),b=n(2205),w=n.n(b),k=n(8585),E=n.n(k),L=n(9754),x=n.n(L),B=function(){function e(){l()(this,e)}return m()(e,null,[{key:"init",value:function(){document.getElementsByClassName("modal-trigger").forEach((function(t){t.addEventListener("click",(function(){e.open(t.dataset.modal)}))})),document.getElementsByClassName("modal-close").forEach((function(t){t.addEventListener("click",(function(t){e.close(t.target.closest(".modal"))}))}))}},{key:"open",value:function(e){var t=document.querySelector('.modal[data-modal="'.concat(e,'"]'));t.classList.add("active"),t.getElementsByClassName("modal-body")[0].scrollTop=0}},{key:"close",value:function(e){e.classList.remove("active"),e.querySelectorAll(".clear-on-modal-close").forEach((function(e){return e.innerHTML=""}))}}]),e}(),I=n(9308),j=n.n(I);var S=function(e){function t(){return l()(this,t),n.apply(this,arguments)}w()(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=x()(e);if(t){var r=x()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return E()(this,n)}}(t);return m()(t,null,[{key:"load",value:function(e){v()(x()(t),"open",this).call(this,"comments");var n=e.comments;n.forEach((function(e,t){n[t].badges={age:h.B_(e.color,e.date),user:h.EA(e.uid,e.anonymous),status:h.i7(e.action)}})),document.getElementById("comments").innerHTML=j()({comments:n}),document.getElementById("comments").dataset.noteId=e.id,document.getElementById("note-link").href="".concat("https://www.openstreetmap.org","/note/").concat(e.id);var o=document.getElementById("note-comment");o.value="",o.dispatchEvent(new Event("input")),document.querySelector('.comment-action[data-action="comment"]').style.display="open"===e.status?"block":"none",document.querySelector('.comment-action[data-action="close"]').style.display="open"===e.status?"block":"none",document.querySelector('.comment-action[data-action="reopen"]').style.display="closed"===e.status?"block":"none"}}]),t}(B),N=n(6815),A=n(5815),_=n(4451),C=n(9391),T=n.n(C);var O=function(e){function t(){return l()(this,t),n.apply(this,arguments)}w()(t,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=x()(e);if(t){var r=x()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return E()(this,n)}}(t);return m()(t,null,[{key:"load",value:function(){var e=s()(i().mark((function e(n){var o,r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v()(x()(t),"open",this).call(this,"mapillary"),(o=document.getElementById("mapillary")).classList.add("loading","loading-lg"),r="".concat(n.coordinates[1],",").concat(n.coordinates[0]),a="https://www.mapillary.com/app/?lat=".concat(n.coordinates[0],"&lng=").concat(n.coordinates[1],"&z=17&focus=map"),document.getElementById("mapillary-link").href=a,e.next=8,_.U2("https://a.mapillary.com/v3/images?closeto=".concat(r,"&radius=50&per_page=20&client_id=").concat("eUFYWUdRTmxZQVhRajkybHNRMnZoQTpiMTFjMDRlYmJmZGQ5ODNi"),_.oZ.JSON);case 8:c=(c=e.sent).features.map((function(e){return{key:e.properties.key,user:e.properties.username}})),o.innerHTML=T()({images:c,link:a,expert:p.U2()===p.XZ}),A.NC(document.getElementById("mapillary")),o.classList.remove("loading","loading-lg");case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(B),Z=n(4421);function U(){var e=new URL(window.location);e.hash="";var t=document.getElementById("sort").value.split("-"),n=r()(t,2),o=n[0],a=n[1],i=function(e){return Object.entries({limit:"100",closed:!1,sort:"created_at",order:"newest",anonymous:!0}).forEach((function(t){var n=r()(t,2),o=n[0],a=n[1];e[o]===a&&delete e[o]})),e}({query:document.getElementById("query").value,limit:document.getElementById("limit").value,closed:document.getElementById("show-closed").checked,user:document.getElementById("user").value,from:document.getElementById("from").value,to:document.getElementById("to").value,sort:o,order:a,anonymous:!document.getElementById("hide-anonymous").checked});if(p.U2()===p.FN&&document.getElementById("show-map").checked){var c=new N.Z("map");i.map="".concat(c.zoom(),"/").concat(c.center().lat,"/").concat(c.center().lng)}e.search=_.XV(i),document.getElementById("permalink").value=e.toString(),delete i.map,i=_.XV(i),document.getElementById("link").href=p.U2()===p.FN?"./expert/?".concat(i):"../?".concat(i)}var F=n(5572),D=n(8904),M=n(9144),P=n(5628),R=n(5983);n.p=p.U2()===p.FN?"dist/":"../dist/";var z,q,J,H=new g;function $(){return V.apply(this,arguments)}function V(){return(V=s()(i().mark((function e(){var t,n,o,a,c,s,u,l,d,m,p,f,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("query").value,n=document.getElementById("limit").value,o=document.getElementById("show-closed").checked,a=document.getElementById("user").value,c=D.o2.INCLUDE,s=document.getElementById("from").value,u=document.getElementById("to").value,l=document.getElementById("sort").value.split("-"),d=r()(l,2),m=d[0],p=d[1],1e4<n&&(n=1e4,document.getElementById("limit").value=1e4,Y(A.yw("description.autoLimit"),"toast-warning")),["anonymous",A.yw("note.anonymous")].includes(a)?(a=null,c=D.o2.ONLY,document.getElementById("hide-anonymous").checked=!1,document.getElementById("hide-anonymous").setAttribute("disabled","true")):document.getElementById("hide-anonymous").removeAttribute("disabled"),document.getElementById("preloader").classList.remove("d-hide"),J=new D.ZP(t,n,o,a,c,s,u,m,p),(f=F.Z.get("previous",!0))&&(J.url=f.url,J.endpoint=f.endpoint,F.Z.remove("previous",!0)),e.next=16,J.search();case 16:g=e.sent,q.show(Array.from(g),J).then(G).finally((function(){document.getElementById("preloader").classList.add("d-hide")}));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return W.apply(this,arguments)}function W(){return(W=s()(i().mark((function e(t,n,o){var r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.getElementById("toast-container"),(a=document.createElement("div")).classList.add("toast",n||"toast-primary"),(c=document.createElement("button")).classList.add("btn","btn-clear","float-right"),c.addEventListener("click",(function(){document.getElementById("toast-container").removeChild(a)})),a.appendChild(c),a.appendChild(document.createTextNode(t)),r.appendChild(a),e.next=11,R.Dc(o||4e3);case 11:r.contains(a)&&r.removeChild(a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){var e=document.getElementById("search"),t=document.getElementById("fast-search");4>z.boundsSize()?(t.classList.remove("d-hide"),e.classList.remove("tooltip")):(t.classList.add("d-hide"),e.classList.add("tooltip"))}function G(e){0===e.amount?(Y(A.yw("description.nothingFound"),"toast-error"),document.getElementById("details").classList.add("d-hide")):document.getElementById("details").classList.remove("d-hide"),document.getElementById("found-notes").textContent=A.yw("note.amount",e.amount),document.getElementById("average-date").innerHTML=A.yw("note.average",h.B_(R.sG(e.average),e.average,!0))}function K(){var e=new URL(window.location.href).searchParams;e.forEach((function(t,n){switch(n){case"map":if(p.U2()===p.FN){var o=t.split("/");z.setView([o[1],o[2]],o[0])}break;case"query":document.getElementById("query").value=t;break;case"limit":document.getElementById("limit").value=t;break;case"user":document.getElementById("user").value=t;break;case"from":document.getElementById("from").value=t;break;case"to":document.getElementById("to").value=t;break;case"sort":document.getElementById("sort").value="".concat("updated_at"===t?"updated_at":"created_at","-").concat("oldest"===e.get("order")?"oldest":"newest");break;case"order":document.getElementById("sort").value="".concat("updated_at"===e.get("sort")?"updated_at":"created_at","-").concat("oldest"===t?"oldest":"newest");break;case"closed":document.getElementById("show-closed").checked=!("true"!==t);break;case"anonymous":document.getElementById("hide-anonymous").checked="true"!==t}}));var t=window.location.toString();0<t.indexOf("?")&&window.history.replaceState({},document.title,t.substring(0,t.indexOf("?")))}function Q(){var e=F.Z.get("editors"),t=F.Z.get("tools");document.getElementById("editor-id").checked=e.id,document.getElementById("editor-josm").checked=e.josm,document.getElementById("editor-level0").checked=e.level0,document.getElementById("tool-openstreetmap").checked=t.openstreetmap,document.getElementById("tool-mapillary").checked=t.mapillary,document.body.dataset.editorId=e.id,document.body.dataset.editorJosm=e.josm,document.body.dataset.editorLevel0=e.level0,document.body.dataset.toolOpenstreetmap=t.openstreetmap,document.body.dataset.toolMapillary=t.mapillary;var n=F.Z.get("theme");document.getElementById("theme-selection").value=n,M.t8(n)}s()(i().mark((function e(){var t,o,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return-1===window.navigator.userAgent.indexOf("MSIE ")&&!window.navigator.userAgent.match(/Trident.*rv:11\./)&&window.Promise&&window.fetch||document.body.classList.add("deprecated-browser"),e.next=3,n.e(25).then(n.bind(n,8628));case 3:return e.next=5,A.S1();case 5:return B.init(),t=p.U2()===p.FN?"map":"expert",e.next=9,n(7849)("./".concat(t));case 9:o=e.sent,r=o.default,q=new r,t===p.FN&&(z=new N.Z("map",X)),a=H.authenticated(),document.body.dataset.authenticated=a,a?(document.getElementById("login").classList.add("d-hide"),document.getElementById("logout").classList.remove("d-hide"),P.Z.avatar(F.Z.get("uid"))):(document.getElementById("login").classList.remove("d-hide"),document.getElementById("logout").classList.add("d-hide")),document.querySelector('.modal-trigger[data-modal="share"]').addEventListener("click",(function(){return U()})),document.getElementById("search").addEventListener("click",(function(){return $()})),document.getElementById("cancel").addEventListener("click",(function(){return _.al()})),document.getElementById("hide-anonymous").addEventListener("change",(function(){q.reload().then(G)})),document.getElementById("login").addEventListener("click",(function(){var e=document.getElementById("login");e.classList.add("loading"),H.login().then((function(t){e.classList.add("d-hide"),document.getElementById("logout").classList.remove("d-hide"),document.body.dataset.authenticated=!0;var n=t.getElementsByTagName("user")[0].getAttribute("id");F.Z.set({uid:n}),P.Z.avatar(n)})).catch((function(e){console.log(e),document.body.dataset.authenticated=!1})).finally((function(){e.classList.remove("loading")}))})),document.getElementById("logout").addEventListener("click",(function(){H.logout(),document.getElementById("logout").classList.add("d-hide"),document.getElementById("login").classList.remove("d-hide"),document.body.dataset.authenticated=!1})),document.getElementById("note-comment").addEventListener("input",(function(){""===document.getElementById("note-comment").value.trim()?document.getElementById("note-comment-actions").classList.add("d-hide"):document.getElementById("note-comment-actions").classList.remove("d-hide")})),document.getElementsByClassName("comment-action").forEach((function(e){e.addEventListener("click",(function(){e.classList.add("loading");var t=Number.parseInt(document.getElementById("comments").dataset.noteId),n=document.getElementById("note-comment").value.trim();H.comment(t,n,e.dataset.action).then((function(e){q.update(t,new Z.Z(JSON.parse(e))).then(G),S.load(q.get(t))})).catch((function(e){console.log(e)})).finally((function(){e.classList.remove("loading")}))}))})),document.getElementsByClassName("setting").forEach((function(e){e.addEventListener("change",(function(){F.Z.set({theme:document.getElementById("theme-selection").value,editors:{id:document.getElementById("editor-id").checked,josm:document.getElementById("editor-josm").checked,level0:document.getElementById("editor-level0").checked},tools:{openstreetmap:document.getElementById("tool-openstreetmap").checked,mapillary:document.getElementById("tool-mapillary").checked}}),Q()}))})),document.getElementsByClassName("update-link").forEach((function(e){e.addEventListener("change",(function(){return U()}))})),document.getElementById("permalink").addEventListener("click",document.getElementById("permalink").select),document.getElementById("permalink").addEventListener("dblclick",(function(){document.getElementById("permalink").select(),document.execCommand("copy"),Y(A.yw("action.copyLinkSuccess"),"toast-success")})),document.getElementById("permalink-copy").addEventListener("click",(function(){document.getElementById("permalink").select(),document.execCommand("copy"),Y(A.yw("action.copyLinkSuccess"),"toast-success")})),document.getElementById("link").addEventListener("click",(function(){F.Z.set({previous:{url:J.url,endpoint:J.endpoint}},!0)})),document.addEventListener("keydown",(function(e){if(13===e.which){if(p.U2()===p.FN&&document.querySelector(".leaflet-control-geocoder-form input")===document.activeElement)return;if(_.An())return _.al();$()}})),window.addEventListener("beforeunload",(function(){if(document.getElementById("remote").remove(),p.U2()===p.FN){var e=z.center();F.Z.set({map:{center:[e.lat,e.lng],zoom:z.zoom()}})}})),document.addEventListener("click",(function(e){var t=e.target.closest(".comments-modal-trigger");if(t){var n=Number.parseInt(t.closest("[data-note-id]").dataset.noteId);S.load(q.get(n))}var o=e.target.closest(".link-tool-mapillary");if(o){var r=Number.parseInt(o.closest("[data-note-id]").dataset.noteId);O.load(q.get(r))}})),Q(),K(),U(),$();case 21:case"end":return e.stop()}}),e)})))()},2358:function(e,t,n){"use strict";n.d(t,{FN:function(){return o},XZ:function(){return r},U2:function(){return a}});var o="map",r="expert";function a(){return document.body.dataset.mode}},4421:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var o=n(3038),r=n.n(o),a=n(4575),i=n.n(a),c=n(3913),s=n.n(c),u=n(9345),l=n(5176).Z,d={imgur:/(http(s)?:\/\/)?i\.imgur\.com\/\w+\.(jpg|png)/gi,framapic:/(http(s)?:\/\/)?(www\.)?framapic\.org\/(random\?i=)?\w+\/\w+(\.(jpg|jpeg|png))?/gi,westnordost:/https:\/\/westnordost\.de\/p\/[0-9]+\.jpg/gi,wikimedia:/http(?:s)?:\/\/upload\.wikimedia\.org\/wikipedia\/(.+?)\/(?:thumb\/)?(\w\/\w\w)\/(.+?\.(?:jpg|jpeg|png))(?:\/.+?\.(?:jpg|jpeg|png))?/gi,commons:/http(?:s)?:\/\/commons\.wikimedia\.org\/wiki\/File:(.+?\.(?:jpg|jpeg|png|svg))/gi,mapillary:/http(?:s)?:\/\/(?:www\.)?mapillary\.com\/map\/im\/(\w+)/gi},m={wikimedia:"https://upload.wikimedia.org/wikipedia/$1/thumb/$2/$3/300px-$3",commons:"https://commons.wikimedia.org/wiki/Special:FilePath/$1?width=300",mapillary:"https://images.mapillary.com/$1/thumb-320.jpg"};function p(e){e=f(e);var t=[],n=Object.entries(d).map((function(e){var n=r()(e,2),o=n[0],a=n[1];return{test:a,transform:function(e){t.push(e);var n=m[o];n&&(e=e.replace(a,n));var r='<img class="img-responsive img-preview p-1" src="'.concat(f(e),'" alt="').concat(f(e),'">');return'<a href="'.concat(f(e),'" target="_blank" rel="noopener noreferrer">').concat(r,"</a>")}}})),o=l({input:e,options:{attributes:{target:"_blank",rel:"noopener noreferrer"}},extensions:n}).replace(/\r?\n/g,"<br>").replace(/(\/a>)(<br>)(<a)/g,"$1$3");return{images:t,html:o}}function f(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var g=n(5815),h=n(5983),y=[/(?:https?:\/\/)?(?:www\.)?(?:osm|openstreetmap)\.org\/(node|way|relation)\/([0-9]+)/,/(node|way|relation)\/([0-9]+)/,/(node|way|relation)(?:\\s)?#([0-9]+)/,/(n|w|r)\/([0-9]+)/],v=function(){function e(t){if(i()(this,e),0===t.properties.comments.length)throw new Error("Note ".concat(t.properties.id," can not be parsed because there are no comments."));this.id=t.properties.id,this.status=t.properties.status,this.coordinates=t.geometry.coordinates.reverse(),this.comments=this.parseComments(t.properties.comments),this.users=this.comments.filter((function(e){return null!==e.uid})).map((function(e){return e.uid})),this.anonymous=this.comments[0].anonymous,this.user=this.comments[0].user,this.created=new Date(t.properties.date_created.replace(/-/g,"/")),this.updated=this.comments[this.comments.length-1].date,this.color=h.sG(this.created)}return s()(e,[{key:"parseComments",value:function(e){for(var t,n=[],o=e.length-1;0<=o;o--){(t=e[o]).anonymous=!t.user,t.anonymous&&(t.user=g.yw("note.anonymous"),t.uid=null),t.date=new Date(t.date.replace(/-/g,"/")),t.color=h.sG(t.date);var r=p(t.text);t.html=r.html,t.images=r.images,n.includes(t.text)?e.splice(o,1):""!==t.text&&n.push(t.text)}return e}},{key:"actions",get:function(){var e,t=this,n=h.f3(this.coordinates),o={osm:{class:"link-osm",link:"".concat("https://www.openstreetmap.org","/note/").concat(this.id),icon:"external",text:g.yw("action.openstreetmap")},iD:{class:"link-editor-id",link:"".concat("https://www.openstreetmap.org","/edit?editor=id#map=19/").concat(this.coordinates.join("/")),icon:"external",text:g.yw("action.edit.id")},josm:{class:"link-editor-josm",link:"http://127.0.0.1:8111/load_and_zoom?left=".concat(n.left,"&bottom=").concat(n.bottom,"&right=").concat(n.right,"&top=").concat(n.top),icon:"external",text:g.yw("action.edit.josm"),remote:!0},level0:{class:"link-editor-level0",link:"http://level0.osmz.ru/?center=".concat(this.coordinates.join()),icon:"external",text:g.yw("action.edit.level0")},mapillary:{class:"link-tool-mapillary",icon:"mapillary",text:g.yw("action.mapillary")},comment:{class:"comments-modal-trigger requires-authentication",icon:"pencil",text:g.yw("action.comment")}};return 1<this.comments.length&&delete o.comment,y.forEach((function(n){if(!e&&(e=t.comments[0].html.match(n))&&1<e.length){var a=e,i=r()(a,3),c=i[1],s=i[2];"n"===c?c="node":"w"===c?c="way":"r"===c&&(c="relation"),o.iD.link="".concat("https://www.openstreetmap.org","/edit?editor=id&").concat(c,"=").concat(s),o.josm.link+="&select=".concat(c).concat(s),o.level0.link="http://level0.osmz.ru/?url=".concat(c,"/").concat(s,"&center=").concat(t.coordinates.join())}})),Object.values(o)}},{key:"badges",get:function(){return{age:u.B_(this.color,this.created),comments:u.G_(this.comments.length-1),country:u.V2(this.coordinates),user:u.EA(this.comments[0].uid,this.anonymous),report:u.Hj(this.id)}}}]),e}()},5572:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var o=n(4575),r=n.n(o),a=n(3913),i=n.n(a),c=/^({|\[)[\s\S]*(}|\])$/m,s={map:{center:[0,0],zoom:2},theme:"system",tools:{openstreetmap:!0,mapillary:!1},editors:{id:!0,josm:!1,level0:!0}},u=function(){function e(){r()(this,e)}return i()(e,null,[{key:"get",value:function(e,t){var n=(t?window.sessionStorage:window.localStorage).getItem(e);return c.test(n)&&(n=JSON.parse(n)),n||s[e]}},{key:"set",value:function(e,t){var n=t?window.sessionStorage:window.localStorage;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=e[o];if(Array.isArray(r))n.setItem(o,JSON.stringify(r));else if("object"==typeof r){var a=n.getItem(o);a=c.test(a)?JSON.parse(a):{},n.setItem(o,JSON.stringify(Object.assign(a,r)))}else n.setItem(o,r)}}},{key:"remove",value:function(e,t){(t?window.sessionStorage:window.localStorage).removeItem(e)}},{key:"reset",value:function(){window.sessionStorage.clear(),window.localStorage.clear(),e.set(s)}}]),e}()},8904:function(e,t,n){"use strict";n.d(t,{o2:function(){return v},f4:function(){return b},ZP:function(){return w}});var o=n(7757),r=n.n(o),a=n(319),i=n.n(a),c=n(8926),s=n.n(c),u=n(4575),l=n.n(u),d=n(3913),m=n.n(d),p=n(6815),f=n(2358),g=n(4421),h=n(4451),y=n(5628),v={INCLUDE:"include",HIDE:"hide",ONLY:"only"},b={DEFAULT:"default",SEARCH:"search"},w=function(){function e(t,n,o,r,a,i,c,s,u){l()(this,e),this.query=t||null,this.limit=n||null,this.closed=o||!1,this.user=r||null,this.anonymous=a||v.INCLUDE,this.from=i||null,this.to=c||null,this.sort=s||null,this.order=u||null,this.endpoint=b.SEARCH,this.url=this.build(),this.to&&!this.from&&(this.from=new Date(0).toISOString().slice(0,10))}return m()(e,[{key:"search",value:function(){var e=s()(r().mark((function e(){var t,n,o,a,c,s,u=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new Set,n=new Set,"string"!=typeof(o=this.url)){e.next=9;break}return e.next=6,h.U2(o,h.oZ.JSON);case 6:a=e.sent,e.next=20;break;case 9:if(!Array.isArray(o)){e.next=20;break}a={type:"FeatureCollection",features:[]},c=0;case 12:if(!(c<o.length)){e.next=20;break}return e.next=15,h.U2(o[c],h.oZ.JSON);case 15:(s=e.sent)&&s.features&&(a.features=[].concat(i()(a.features),i()(s.features)));case 17:c++,e.next=12;break;case 20:if(a&&0!==a.features.length){e.next=22;break}return e.abrupt("return",t);case 22:return a.features.forEach((function(e){try{var o=new g.Z(e);t.add(o),n=new Set([].concat(i()(n),i()(o.users)))}catch(e){console.error(e)}})),this.endpoint===b.DEFAULT&&((t=Array.from(t)).sort((function(e,t){var n="updated_at"===u.sort?e.updated:e.created,o="updated_at"===u.sort?t.updated:t.created;return"newest"===u.order?n<o:n>o})),t=t.slice(0,this.limit)),e.next=26,y.Z.load(n);case 26:return e.abrupt("return",t);case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"build",value:function(){var e,t=this;if(f.U2()===f.FN){var n=new p.Z("map"),o=n.boundsSize();.25>o?(this.endpoint=b.DEFAULT,e=h.J_(this,n.bounds().toBBoxString())):.25<=o&&1>=o?(this.endpoint=b.DEFAULT,e=[],n.splitBounds(n.bounds(),1).forEach((function(n){e.push(h.J_(t,n.toBBoxString()))}))):1<=o&&4>=o?(this.endpoint=b.DEFAULT,e=[],n.splitBounds(n.bounds(),2).forEach((function(n){e.push(h.J_(t,n.toBBoxString()))}))):(this.endpoint=b.SEARCH,e=h.J_(this))}else this.endpoint=b.SEARCH,e=h.J_(this);return e}}]),e}()},4451:function(e,t,n){"use strict";n.d(t,{oZ:function(){return i},J_:function(){return c},U2:function(){return s},An:function(){return u},al:function(){return l},XV:function(){return d}});var o=n(8904),r=new AbortController,a=!1,i={JSON:"application/json",XML:"text/xml"};function c(e,t){var n=new URL("https://www.openstreetmap.org");n.pathname=e.endpoint===o.f4.DEFAULT?"/api/0.6/notes.json":"/api/0.6/notes/search.json";var r={q:e.query,limit:e.limit,display_name:e.user,closed:e.closed?"-1":"0",from:e.from,to:e.to,sort:e.sort,order:e.order};return e.endpoint===o.f4.DEFAULT&&(delete r.q,r.bbox=t),n.search=d(r,!0),n.toString()}function s(e,t){return a=!0,r=new AbortController,fetch(e,{signal:r.signal}).then((function(e){return t===i.JSON?e.json():e.text()})).then((function(e){return t===i.XML?(new DOMParser).parseFromString(e,"text/xml"):e})).catch((function(t){return console.log("Error while fetching file at ".concat(e,": ").concat(t))})).finally((function(){return a=!1}))}function u(){return a}function l(){r.abort()}function d(e,t){var n=[];for(var o in e)""===e[o]||t&&null===e[o]||n.push("".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(e[o])));return n.join("&")}},9144:function(e,t,n){"use strict";n.d(t,{Py:function(){return a},t8:function(){return u},U2:function(){return l}});var o=n(5572),r="light",a="dark",i="system",c=o.Z.get("theme")||"system",s=window.matchMedia("(prefers-color-scheme: dark)");function u(e){e===c||(c=e,d(),c===i?s.addListener(d):s.removeListener(d))}function l(){return c===r?r:c===a||c===i&&s.matches?a:r}function d(){document.body.dataset.theme=l(),document.dispatchEvent(new Event("color-scheme-changed"))}document.body.dataset.theme=l()},5628:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var o=n(7757),r=n.n(o),a=n(8926),i=n.n(a),c=n(4575),s=n.n(c),u=n(3913),l=n.n(u),d=n(4451),m=n(5983),p=function(){function e(){s()(this,e)}return l()(e,null,[{key:"load",value:function(t){e.all||(e.all=new Set);var n=[];t=m.yo(Array.from(t),500);for(var o=0;o<t.length;o++){var r="".concat("https://www.openstreetmap.org","/api/0.6/users?users=").concat(t[o].join(",")),a=d.U2(r,d.oZ.XML).then((function(t){t&&t.documentElement&&t.documentElement.children.forEach((function(t){e.all.add({id:Number.parseInt(t.getAttribute("id")),name:t.getAttribute("display_name"),created:new Date(t.getAttribute("account_created")),description:t.getElementsByTagName("description")[0].innerText,image:t.querySelector("img[href]")?t.getElementsByTagName("img")[0].getAttribute("href"):null,changesets:t.getElementsByTagName("changesets")[0].getAttribute("count")})}))}));n.push(a)}return Promise.all(n)}},{key:"get",value:function(t){return t?Array.from(e.all).find((function(e){return e.id===t})):void 0}},{key:"avatar",value:(t=i()(r().mark((function t(n){var o,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=document.getElementById("user-avatar"),n){t.next=4;break}return o.style.display="none",t.abrupt("return");case 4:return t.next=6,e.load(new Set([n]));case 6:(a=e.get(Number.parseInt(n)))&&(o.style.display="inline-block",o.dataset.initial=m.eu(a.name),o.innerHTML=a.image?'<img src="'.concat(a.image,'">'):"");case 8:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}]),e;var t}()},5983:function(e,t,n){"use strict";n.d(t,{sG:function(){return c},jD:function(){return s},eu:function(){return u},f3:function(){return l},Dc:function(){return d},yo:function(){return m}});var o=n(3038),r=n.n(o),a=n(8904),i=2*Math.PI*6371e3/360;function c(e){var t=Math.abs((new Date).getTime()-e.getTime()),n=Math.round(t/36e5),o=Math.round(t/864e5),r=Math.round(t/2592e6),a=Math.round(t/315576e5);return 24>=n?"green-dark":31>=o?"green":6>r?"lime":12>r?"amber":1>=a?"orange":"red"}function s(e,t){var n=!0;if(t.endpoint===a.f4.DEFAULT){var o="updated_at"===t.sort?e.updated:e.created,r=null===t.from?new Date(0):new Date(t.from),i=null===t.to?new Date:new Date(t.to);n=o>r&&o<i,t.query&&!function(e,t){return e=(e=e.map((function(e){return e.text})).join(" ")).normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLocaleUpperCase(),t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLocaleUpperCase(),e.includes(t)}(e.comments,t.query)&&(n=!1),t.user&&t.anonymous!==a.o2.ONLY&&(n=0===t.user.localeCompare(e.user))}return n&&(!!t.closed||"open"===e.status)&&(!document.getElementById("hide-anonymous").checked||!e.anonymous)&&(t.anonymous!==a.o2.ONLY||e.anonymous)}function u(e){var t=e.substring(0,2);if(/^(.).*(?:\s|_)(.).*$/.test(e)){var n=/^(.).*(?:\s|_)(.).*$/.exec(e),o=r()(n,3),a=o[1],i=o[2];t="".concat(a).concat(i)}else if(/^(.).*[a-z]([A-Z]).*$/.test(e)){var c=/^(.).*[a-z]([A-Z]).*$/.exec(e),s=r()(c,3),u=s[1],l=s[2];t="".concat(u).concat(l)}return t.toUpperCase()}function l(e,t){t||(t=100);var n=r()(e,2),o=n[0],a=n[1];return{left:a-t/(i*Math.cos(o*Math.PI/180)),bottom:o-t/i,right:a+t/(i*Math.cos(o*Math.PI/180)),top:o+t/i}}function d(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function m(e,t){for(var n=[],o=0,r=e.length;o<r;o+=t)n.push(e.slice(o,o+t));return n}},4891:function(){},9308:function(e,t,n){var o=n(5485);e.exports=function(){var e=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.s(o.f("comments",e,t,1),e,t,0,13,233,"{{ }}")&&(o.rs(e,t,(function(e,t,n){n.b(' <div class="tile"><div class="tile-content"><div class="tile-title"> '),n.b(n.t(n.d("badges.user",e,t,0))),n.b(" "),n.b(n.t(n.d("badges.age",e,t,0))),n.b(" "),n.b(n.t(n.d("badges.status",e,t,0))),n.b('</div><p class="tile-subtitle text-break">'),n.b(n.t(n.f("html",e,t,0))),n.b('</p></div></div><div class="divider"></div> ')})),e.pop()),o.fl()},partials:{},subs:{}},'{{#comments}} <div class="tile"><div class="tile-content"><div class="tile-title"> {{{badges.user}}} {{{badges.age}}} {{{badges.status}}}</div><p class="tile-subtitle text-break">{{{html}}}</p></div></div><div class="divider"></div> {{/comments}}',o);return e.render.apply(e,arguments)}},9391:function(e,t,n){var o=n(5485);e.exports=function(){var e=new o.Template({code:function(e,t,n){var o=this;return o.b(n=n||""),o.s(o.d("images.length",e,t,1),e,t,0,18,708,"{{ }}")&&(o.rs(e,t,(function(e,t,n){n.b(" "),n.s(n.f("images",e,t,1),e,t,0,30,696,"{{ }}")&&(n.rs(e,t,(function(e,t,n){n.b(' <div class="column col-4 col-md-6 my-1"><div class="mapillary-image p-relative"><img src="https://images.mapillary.com/'),n.b(n.v(n.f("key",e,t,0))),n.b('/thumb-320.jpg" class="img-responsive" width="320" height="240"> <a class="mapillary-image-link p-absolute px-2" href="https://www.mapillary.com/app/?pKey='),n.b(n.v(n.f("key",e,t,0))),n.b('" target="_blank" rel="noopener"><img src="'),n.s(n.f("expert",e,t,1),e,t,0,373,376,"{{ }}")&&(n.rs(e,t,(function(e,t,n){n.b("../")})),e.pop()),n.b('assets/logos/mapillary.svg"></a><p class="mapillary-image-user p-absolute px-2 bg-dark">@'),n.b(n.v(n.f("user",e,t,0))),n.b(' <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"><abbr title="Creative Commons Attribution-ShareAlike 4.0 International License">(CC BY-SA 4.0)</abbr></a></p></div></div> ')})),e.pop()),n.b(" ")})),e.pop()),o.b(" "),o.s(o.d("images.length",e,t,1),e,t,1,0,0,"")||(o.b(' <div class="empty col-12"><div class="empty-icon"></div><p class="empty-title h5" data-i18n="mapillary.empty.title">There are no photos of this place yet</p><p class="empty-subtitle" data-i18n="mapillary.empty.subtitle">You can help other mappers by uploading street-level imagery to Mapillary.</p><div class="empty-action"><a class="btn btn-primary" href="'),o.b(o.v(o.f("link",e,t,0))),o.b('" target="_blank" rel="noopener"><svg class="icon"><use xlink:href="'),o.s(o.f("expert",e,t,1),e,t,0,1190,1193,"{{ }}")&&(o.rs(e,t,(function(e,t,n){n.b("../")})),e.pop()),o.b('dist/svg/icons.svg#sprite-mapillary"></use></svg> <span data-i18n="mapillary.empty.add">Add photos of this place</span></a></div></div> ')),o.fl()},partials:{},subs:{}},'{{#images.length}} {{#images}} <div class="column col-4 col-md-6 my-1"><div class="mapillary-image p-relative"><img src="https://images.mapillary.com/{{key}}/thumb-320.jpg" class="img-responsive" width="320" height="240"> <a class="mapillary-image-link p-absolute px-2" href="https://www.mapillary.com/app/?pKey={{key}}" target="_blank" rel="noopener"><img src="{{#expert}}../{{/expert}}assets/logos/mapillary.svg"></a><p class="mapillary-image-user p-absolute px-2 bg-dark">@{{user}} <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener"><abbr title="Creative Commons Attribution-ShareAlike 4.0 International License">(CC BY-SA 4.0)</abbr></a></p></div></div> {{/images}} {{/images.length}} {{^images.length}} <div class="empty col-12"><div class="empty-icon"></div><p class="empty-title h5" data-i18n="mapillary.empty.title">There are no photos of this place yet</p><p class="empty-subtitle" data-i18n="mapillary.empty.subtitle">You can help other mappers by uploading street-level imagery to Mapillary.</p><div class="empty-action"><a class="btn btn-primary" href="{{link}}" target="_blank" rel="noopener"><svg class="icon"><use xlink:href="{{#expert}}../{{/expert}}dist/svg/icons.svg#sprite-mapillary"></use></svg> <span data-i18n="mapillary.empty.add">Add photos of this place</span></a></div></div> {{/images.length}}',o);return e.render.apply(e,arguments)}}},a={};function i(e){if(a[e])return a[e].exports;var t=a[e]={exports:{}};return r[e].call(t.exports,t,t.exports,i),t.exports}i.m=r,i.x=function(){},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},i.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var r=Object.create(null);i.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var c=2&o&&n;"object"==typeof c&&!~e.indexOf(c);c=t(c))Object.getOwnPropertyNames(c).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},i.d(r,a),r},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,n){return i.f[n](e,t),t}),[]))},i.u=function(e){return"js/"+{25:"@github/time-elements",91:"locales/pt-BR",216:"locales/de",270:"ui/map",283:"relative-time-format/pt",293:"locales/fr",356:"relative-time-format/es",483:"relative-time-format/it",542:"locales/zh-TW",600:"ui/expert",657:"relative-time-format/fr",673:"locales/es",742:"ui/ui",770:"relative-time-format/zh",811:"relative-time-format/de",830:"locales/it",907:"relative-time-format/en",933:"locales/en",942:"relative-time-format"}[e]+".min.js"},i.miniCssF=function(e){return 222===e?"css/222.min.css":179===e?"css/main.min.css":"css/"+e+".min.css"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},o="NotesReview:",i.l=function(e,t,r){if(n[e])n[e].push(t);else{var a,c;if(void 0!==r)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var l=s[u];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==o+r){a=l;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",o+r),a.src=e),n[e]=[t];var d=function(t,o){a.onerror=a.onload=null,clearTimeout(m);var r=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((function(e){return e(o)})),t)return t(o)},m=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="dist/",function(){var e={179:0},t=[[4891,222],[155,222]];i.f.j=function(t,n){var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((function(n,r){o=e[t]=[n,r]}));n.push(o[2]=r);var a=i.p+i.u(t),c=new Error;i.l(a,(function(n){if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,o[1](c)}}),"chunk-"+t)}};var n=function(){},o=function(o,r){for(var a,c,s=r[0],u=r[1],l=r[2],d=r[3],m=0,p=[];m<s.length;m++)c=s[m],i.o(e,c)&&e[c]&&p.push(e[c][0]),e[c]=0;for(a in u)i.o(u,a)&&(i.m[a]=u[a]);for(l&&l(i),o&&o(r);p.length;)p.shift()();return d&&t.push.apply(t,d),n()},r=self.webpackChunkNotesReview=self.webpackChunkNotesReview||[];function a(){for(var n,o=0;o<t.length;o++){for(var r=t[o],a=!0,c=1;c<r.length;c++){var s=r[c];0!==e[s]&&(a=!1)}a&&(t.splice(o--,1),n=i(i.s=r[0]))}return 0===t.length&&(i.x(),i.x=function(){}),n}r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r));var c=i.x;i.x=function(){return i.x=c||function(){},(n=a)()}}(),i.x()}();